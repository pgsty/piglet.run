[{"body":"Piglet Run is a lightweight runtime environment from Pigsty, designed as a cloud coding sandbox for AI Web Coding.\nWhat is Piglet Run? Piglet Run integrates:\nPostgreSQL 18 with 400+ extensions JuiceFS distributed storage with PITR support VS Code Server for web-based development JupyterLab for data science Claude Code for AI-assisted coding Grafana for observability All in a single, easy-to-deploy package.\nProject Links Resource Link GitHub github.com/pgsty Documentation piglet.run Discord Join Community Pigsty pigsty.io Topics Topic Description License Open source license (Apache 2.0) ","categories":"","description":"Learn about Piglet Run project, its license, community, and how to get support.","excerpt":"Learn about Piglet Run project, its license, community, and how to get â€¦","ref":"/docs/about/","tags":"","title":"About"},{"body":"Piglet Run æ˜¯ Pigsty çš„è½»é‡è¿è¡Œæ—¶ç¯å¢ƒï¼Œä¸“ä¸º AI Web Coding è®¾è®¡çš„äº‘ç«¯ç¼–ç æ²™ç®±ã€‚\nä»€ä¹ˆæ˜¯ Piglet Runï¼Ÿ Piglet Run é›†æˆäº†ï¼š\nPostgreSQL 18 åŠ 400+ æ‰©å±• JuiceFS åˆ†å¸ƒå¼å­˜å‚¨ï¼Œæ”¯æŒ PITR VS Code Server ç½‘é¡µç‰ˆå¼€å‘ç¯å¢ƒ JupyterLab æ•°æ®ç§‘å­¦å·¥å…· Claude Code AI è¾…åŠ©ç¼–ç  Grafana å¯è§‚æµ‹æ€§ç›‘æ§ ä¸€é”®éƒ¨ç½²ï¼Œå¼€ç®±å³ç”¨ã€‚\né¡¹ç›®é“¾æ¥ èµ„æº é“¾æ¥ GitHub github.com/pgsty æ–‡æ¡£ piglet.run Discord åŠ å…¥ç¤¾åŒº Pigsty pigsty.cc ç« èŠ‚ç›®å½• ä¸»é¢˜ æè¿° å¼€æºåè®® Apache 2.0 å¼€æºåè®® ","categories":"","description":"äº†è§£ Piglet Run é¡¹ç›®ã€å¼€æºåè®®ã€ç¤¾åŒºä¸æ”¯æŒæ–¹å¼ã€‚","excerpt":"äº†è§£ Piglet Run é¡¹ç›®ã€å¼€æºåè®®ã€ç¤¾åŒºä¸æ”¯æŒæ–¹å¼ã€‚","ref":"/zh/docs/about/","tags":"","title":"å…³äº"},{"body":"Learn how to backup your database and files in Piglet Run.\nOverview Piglet Run provides multiple backup methods to protect your data:\nDatabase Backup: Full and incremental PostgreSQL backups File Backup: User files and configurations Snapshot: Complete system state capture Quick Backup Create a full backup with a single command:\npig backup create Backup Database Full Database Backup pig backup db --full Incremental Backup pig backup db --incremental Backup Specific Database pig backup db mydb Backup Files Backup User Files pig backup files Backup Configurations pig backup config Scheduled Backups Configure automatic backups in /etc/piglet/backup.yml:\nbackup: schedule: \"0 2 * * *\" # Daily at 2 AM retention: 7 # Keep 7 days type: incremental Backup Storage Backups are stored in:\nType Location Database /data/backup/postgres/ Files /data/backup/files/ Config /data/backup/config/ Next Steps Learn about Restore Understand Snapshots ","categories":"","description":"","excerpt":"Learn how to backup your database and files in Piglet Run.\nOverview â€¦","ref":"/docs/task/backup/","tags":"","title":"Backup"},{"body":"Command-line interface reference for Piglet Run, powered by pig - the PostgreSQL package manager.\nOverview The pig CLI provides complete control over PostgreSQL installation, extension management, and system operations.\nInstallation # Default (Cloudflare CDN) curl -fsSL https://repo.pigsty.io/pig | bash # China Mirror curl -fsSL https://repo.pigsty.io/pig | bash Verify installation:\npig --version pig --help Global Options Option Description --help, -h Show help --debug Enable debug mode --log-level Set log level (debug/info/warn/error) -H, --home Pigsty home directory -i, --inventory Configuration inventory path Main Commands Repository Management (pig repo) pig repo list # List available repos and modules pig repo info # Show repository information pig repo status # Display current repo config pig repo add [modules...] # Add repositories pig repo set # Setup all required repos (recommended) pig repo rm [modules...] # Remove repositories pig repo update # Update package cache Extension Management (pig ext) pig ext list [pattern] # Search/list extensions pig ext info \u003cname\u003e # Show extension details pig ext avail \u003cname\u003e # Show availability matrix pig ext status # Show installed extensions pig ext scan # Scan installed extensions pig ext add \u003cname\u003e [-v version] # Install extension pig ext rm \u003cname\u003e # Remove extension pig ext update # Update extensions Installation Alias (pig install) pig install pg17 # Install PostgreSQL 17 pig install pg_duckdb -v 17 # Install extension for PG 17 pig install vector postgis # Install multiple extensions PostgreSQL Management (pig pg) pig pg init # Initialize data directory pig pg start # Start PostgreSQL pig pg stop # Stop PostgreSQL pig pg status # Check status pig pg psql [database] # Connect to database pig pg ps # Show connections pig pg vacuum [database] # Vacuum database pig pg log tail # View logs in real-time Backup Management (pig pb) pig pb info # Show backup information pig pb ls # List all backups pig pb backup # Create backup pig pb backup full # Full backup pig pb backup incr # Incremental backup pig pb restore # Restore to latest pig pb restore -t \u003ctime\u003e # Restore to specific time pig pb log tail # View backup logs Patroni Cluster (pig pt) pig pt list # List cluster members pig pt config # Show cluster config pig pt status # View service status pig pt log -f # View logs in real-time Pigsty Management (pig sty) pig sty init # Download and install Pigsty pig sty boot # Install Ansible dependencies pig sty conf [-m template] # Generate configuration pig sty deploy # Run deployment playbook pig sty list # List available versions System Status (pig status) pig status # Show environment status Environment Variables Variable Description PIGSTY_HOME Pigsty home directory (default: ~/pigsty) PIG_LOG_LEVEL Log level Examples # Quick setup for Piglet Run pig repo set # Setup repositories pig install pg17 # Install PostgreSQL 17 pig install vector pg_duckdb # Install extensions pig sty init \u0026\u0026 pig sty deploy # Deploy Pigsty # Daily operations pig pg status # Check PostgreSQL pig pb info # Check backups pig ext status # Check extensions See Also Configuration Reference PostgreSQL Reference Installation Tutorial ","categories":"","description":"","excerpt":"Command-line interface reference for Piglet Run, powered by pig - the â€¦","ref":"/docs/reference/cli/","tags":"","title":"CLI"},{"body":"Piglet Run å‘½ä»¤è¡Œæ¥å£å‚è€ƒã€‚\næ¦‚è¿° pig CLI æä¾›å¯¹ Piglet Run å®ä¾‹çš„å®Œæ•´æ§åˆ¶ã€‚\nå®‰è£… CLI éš Piglet Run è‡ªåŠ¨å®‰è£…ã€‚éªŒè¯å®‰è£…ï¼š\npig --version å…¨å±€é€‰é¡¹ é€‰é¡¹ æè¿° --help, -h æ˜¾ç¤ºå¸®åŠ© --version, -v æ˜¾ç¤ºç‰ˆæœ¬ --config, -c é…ç½®æ–‡ä»¶è·¯å¾„ --verbose è¯¦ç»†è¾“å‡º --quiet, -q é™é»˜æ¨¡å¼ --json JSON è¾“å‡º å‘½ä»¤ çŠ¶æ€å‘½ä»¤ pig status # æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€ pig status db # æ•°æ®åº“çŠ¶æ€ pig status services # æ‰€æœ‰æœåŠ¡çŠ¶æ€ æœåŠ¡å‘½ä»¤ pig start [service] # å¯åŠ¨æœåŠ¡ pig stop [service] # åœæ­¢æœåŠ¡ pig restart [service] # é‡å¯æœåŠ¡ pig logs [service] # æŸ¥çœ‹æ—¥å¿— æ•°æ®åº“å‘½ä»¤ pig db list # åˆ—å‡ºæ•°æ®åº“ pig db create NAME # åˆ›å»ºæ•°æ®åº“ pig db drop NAME # åˆ é™¤æ•°æ®åº“ pig db connect [NAME] # è¿æ¥æ•°æ®åº“ å¤‡ä»½å‘½ä»¤ pig backup create # åˆ›å»ºå¤‡ä»½ pig backup list # åˆ—å‡ºå¤‡ä»½ pig backup restore ID # æ¢å¤å¤‡ä»½ ç”¨æˆ·å‘½ä»¤ pig user list # åˆ—å‡ºç”¨æˆ· pig user create NAME # åˆ›å»ºç”¨æˆ· pig user delete NAME # åˆ é™¤ç”¨æˆ· pig user passwd NAME # ä¿®æ”¹å¯†ç  é…ç½®å‘½ä»¤ pig config show # æ˜¾ç¤ºé…ç½® pig config set KEY VAL # è®¾ç½®é…ç½® pig config get KEY # è·å–é…ç½® ç¯å¢ƒå˜é‡ å˜é‡ æè¿° PIG_HOME Piglet Run ä¸»ç›®å½• PIG_CONFIG é…ç½®æ–‡ä»¶è·¯å¾„ PIG_LOG_LEVEL æ—¥å¿—çº§åˆ« (debug, info, warn, error) é…ç½®æ–‡ä»¶ é»˜è®¤ä½ç½®ï¼š/etc/piglet/piglet.yml\ndatabase: host: localhost port: 5432 user: dba services: vscode: true jupyter: true grafana: true log: level: info file: /var/log/piglet/piglet.log é€€å‡ºç  ä»£ç  æè¿° 0 æˆåŠŸ 1 ä¸€èˆ¬é”™è¯¯ 2 å‚æ•°æ— æ•ˆ 3 æœåŠ¡æœªæ‰¾åˆ° 4 æƒé™æ‹’ç» å¦è¯·å‚é˜… é…ç½®å‚è€ƒ API å‚è€ƒ ","categories":"","description":"","excerpt":"Piglet Run å‘½ä»¤è¡Œæ¥å£å‚è€ƒã€‚\næ¦‚è¿° pig CLI æä¾›å¯¹ Piglet Run å®ä¾‹çš„å®Œæ•´æ§åˆ¶ã€‚\nå®‰è£… CLI éš Piglet â€¦","ref":"/zh/docs/reference/cli/","tags":"","title":"CLI"},{"body":"Welcome to Piglet Run documentation!\nPiglet Run is a lightweight runtime environment from Pigsty, designed as a cloud coding sandbox for AI Web Coding. It integrates PostgreSQL database, JuiceFS distributed storage, VS Code, JupyterLab, and more into a unified environment.\nDocumentation Structure Our documentation follows the Diataxis framework, organized into four categories:\nCategory Purpose Example Concept Understand the principles What is Piglet Run? How does snapshot work? Tutorial Learn step by step Install Piglet Run, Create your first project Task Get specific things done Backup database, Deploy application Reference Look up detailed info Configuration options, CLI commands Quick Links New to Piglet Run? Start with the Installation Tutorial Want to understand the concepts? Read What is Piglet Run? Looking for how-to guides? Check the Task section Need detailed reference? See the Reference section Core Features Feature Description ğŸ¤– AI Coding Pre-installed Claude Code, VS Code, Jupyter, Python/Go/Node.js ğŸ˜ Data Powerhouse PostgreSQL 18 + 400+ extensions ğŸ’¾ Shared Storage JuiceFS stores workspace in database â±ï¸ Time Machine Database PITR + filesystem snapshots ğŸ”€ Instant Clone Copy-on-Write database forking ğŸŒ One-Click Deploy Built-in Nginx with auto SSL ğŸ“Š Full Observability VictoriaMetrics + Grafana ","categories":"","description":"Piglet Run documentation - AI coding sandbox with PostgreSQL, JuiceFS, VS Code, and more.","excerpt":"Piglet Run documentation - AI coding sandbox with PostgreSQL, JuiceFS, â€¦","ref":"/docs/","tags":"","title":"Documentation"},{"body":"Install Piglet Run This tutorial guides you through installing Piglet Run on a fresh server.\nPrerequisites OS: Linux (Ubuntu 22.04+, Debian 12+, RHEL 8+, Rocky 8+) CPU: 2+ cores recommended RAM: 4GB minimum, 8GB+ recommended Disk: 40GB+ free space Network: Internet access for package download Quick Install 1. Install Pig CLI # Default (Cloudflare CDN) curl -fsSL https://repo.pigsty.io/pig | bash # China Mirror curl -fsSL https://repo.pigsty.io/pig | bash 2. Setup Repositories pig repo set # Setup all required repositories 3. Install Pigsty with Piglet Profile pig sty init # Download Pigsty to ~/pigsty cd ~/pigsty ./configure -m piglet # Configure with piglet preset ./install.yml # Run installation playbook Step-by-Step Installation Download and Install Pig curl -fsSL https://repo.pigsty.io/pig | bash Setup Repositories pig repo set # One-step repo setup pig repo add all --region china # Use China mirrors if needed Install PostgreSQL and Extensions pig install pg17 # Install PostgreSQL 17 pig install pg_duckdb vector -v 17 # Install extensions Install Pigsty Distribution pig sty init # Download Pigsty pig sty boot # Install Ansible pig sty conf -m piglet # Generate piglet config pig sty deploy # Run deployment Verify Installation After installation, check status:\npig status # Check pig environment pig ext status # Check installed extensions pig pg status # Check PostgreSQL status Access the services:\nService URL Homepage http://\u003cip\u003e/ VS Code http://\u003cip\u003e/code Jupyter http://\u003cip\u003e/jupyter Grafana http://\u003cip\u003e/ui PostgreSQL postgres://\u003cip\u003e:5432 Troubleshooting Check Logs pig pg log tail # PostgreSQL logs pig pt log -f # Patroni logs (if HA enabled) Common Issues Issue Solution Repository error pig repo set -u to refresh Package conflict pig repo rm then pig repo set Permission denied Run with sudo or as root Next Steps Continue with Quick Start Learn about VS Code ","categories":"","description":"","excerpt":"Install Piglet Run This tutorial guides you through installing Piglet â€¦","ref":"/docs/tutorial/install/","tags":"","title":"Installation"},{"body":"Apache License 2.0 Piglet Run is licensed under the Apache License 2.0.\nCopyright 2025 Ruohang Feng Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. What This Means The Apache 2.0 license allows you to:\nâœ… Use - Use the software for any purpose âœ… Modify - Modify the source code âœ… Distribute - Distribute copies of the software âœ… Commercial Use - Use in commercial projects âœ… Patent Grant - Includes patent rights from contributors Requirements When using Piglet Run, you must:\nInclude the license and copyright notice State any significant changes made to the code Include the NOTICE file if one exists Third-Party Components Piglet Run includes several third-party open source components:\nComponent License PostgreSQL PostgreSQL License JuiceFS Apache 2.0 VS Code Server MIT Grafana AGPL 3.0 VictoriaMetrics Apache 2.0 Nginx BSD-2-Clause Please refer to each componentâ€™s license for specific terms.\n","categories":"","description":"Piglet Run is open source software licensed under Apache License 2.0.","excerpt":"Piglet Run is open source software licensed under Apache License 2.0.","ref":"/docs/about/license/","tags":"","title":"License"},{"body":"What is Piglet Run? Piglet Run is a lightweight runtime environment from Pigsty, designed as a cloud coding sandbox for AI Web Coding. It integrates PostgreSQL database, JuiceFS distributed storage, VS Code, JupyterLab, and more into a unified environment.\nWhy Piglet Run? In the age of AI-assisted development, developers need:\nInstant development environments that just work Powerful databases with all extensions available Safe experimentation with easy rollback Seamless collaboration between humans and AI agents Piglet Run provides all of this in a single package.\nKey Features Feature Description ğŸ¤– AI Coding Pre-installed Claude Code, OpenCode, VS Code, Jupyter ğŸ˜ Data Powerhouse PostgreSQL 18 + 400+ extensions ğŸ’¾ Shared Storage JuiceFS stores workspace in database â±ï¸ Time Machine Database PITR + filesystem snapshots ğŸ”€ Instant Clone Copy-on-Write database forking ğŸŒ One-Click Deploy Built-in Nginx with auto SSL ğŸ“Š Full Observability VictoriaMetrics + Grafana ğŸ‡¨ğŸ‡³ China Friendly Global CDN + China mirrors Who is it for? Solo developers who want a powerful dev environment Teams that need shared development infrastructure AI developers using Claude Code or similar tools Data scientists working with PostgreSQL and Jupyter Learners exploring PostgreSQL and web development How it works â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Piglet Run â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ VS Code â”‚ â”‚ Jupyter â”‚ â”‚ Claude â”‚ â”‚ Nginx â”‚ â”‚ â”‚ â”‚ Server â”‚ â”‚ Lab â”‚ â”‚ Code â”‚ â”‚ Proxy â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ JuiceFS (Shared Storage) â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ PostgreSQL 18 + 400+ Extensions â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ VictoriaMetrics + Grafana (Monitoring) â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Next Steps Install Piglet Run to get started Learn about the Architecture Explore the Storage system ","categories":"","description":"","excerpt":"What is Piglet Run? Piglet Run is a lightweight runtime environment â€¦","ref":"/docs/concept/overview/","tags":"","title":"Overview"},{"body":"äº†è§£å¦‚ä½•åœ¨ Piglet Run ä¸­å¤‡ä»½æ•°æ®åº“å’Œæ–‡ä»¶ã€‚\næ¦‚è¿° Piglet Run æä¾›å¤šç§å¤‡ä»½æ–¹å¼æ¥ä¿æŠ¤æ‚¨çš„æ•°æ®ï¼š\næ•°æ®åº“å¤‡ä»½ï¼šPostgreSQL å…¨é‡å’Œå¢é‡å¤‡ä»½ æ–‡ä»¶å¤‡ä»½ï¼šç”¨æˆ·æ–‡ä»¶å’Œé…ç½® å¿«ç…§ï¼šå®Œæ•´ç³»ç»ŸçŠ¶æ€æ•è· å¿«é€Ÿå¤‡ä»½ ä½¿ç”¨å•ä¸ªå‘½ä»¤åˆ›å»ºå®Œæ•´å¤‡ä»½ï¼š\npig backup create å¤‡ä»½æ•°æ®åº“ å…¨é‡æ•°æ®åº“å¤‡ä»½ pig backup db --full å¢é‡å¤‡ä»½ pig backup db --incremental å¤‡ä»½æŒ‡å®šæ•°æ®åº“ pig backup db mydb å¤‡ä»½æ–‡ä»¶ å¤‡ä»½ç”¨æˆ·æ–‡ä»¶ pig backup files å¤‡ä»½é…ç½® pig backup config å®šæ—¶å¤‡ä»½ åœ¨ /etc/piglet/backup.yml ä¸­é…ç½®è‡ªåŠ¨å¤‡ä»½ï¼š\nbackup: schedule: \"0 2 * * *\" # æ¯å¤©å‡Œæ™¨ 2 ç‚¹ retention: 7 # ä¿ç•™ 7 å¤© type: incremental å¤‡ä»½å­˜å‚¨ å¤‡ä»½å­˜å‚¨ä½ç½®ï¼š\nç±»å‹ ä½ç½® æ•°æ®åº“ /data/backup/postgres/ æ–‡ä»¶ /data/backup/files/ é…ç½® /data/backup/config/ ä¸‹ä¸€æ­¥ äº†è§£æ¢å¤ ç†è§£å¿«ç…§ ","categories":"","description":"","excerpt":"äº†è§£å¦‚ä½•åœ¨ Piglet Run ä¸­å¤‡ä»½æ•°æ®åº“å’Œæ–‡ä»¶ã€‚\næ¦‚è¿° Piglet Run æä¾›å¤šç§å¤‡ä»½æ–¹å¼æ¥ä¿æŠ¤æ‚¨çš„æ•°æ®ï¼š\næ•°æ®åº“å¤‡ä»½ â€¦","ref":"/zh/docs/task/backup/","tags":"","title":"å¤‡ä»½"},{"body":"å‡†å¤‡å·¥ä½œ ä½ éœ€è¦ä»€ä¹ˆ é¡¹ç›® æœ€ä½è¦æ±‚ æ¨èé…ç½® äº‘æœåŠ¡å™¨ 1 æ ¸ 2GB 2 æ ¸ 4GB+ æ“ä½œç³»ç»Ÿ Ubuntu 22.04 / Debian 12 / Rocky 8 Ubuntu 24.04 ç£ç›˜ 40GB 100GB+ ç½‘ç»œ èƒ½ä¸Šç½‘ æœ‰å…¬ç½‘ IP è¿˜æ²¡æœ‰æœåŠ¡å™¨ï¼Ÿ å‚è€ƒ é‡‡è´­äº‘æœåŠ¡å™¨ æŒ‡å—ï¼Œå„å¤§äº‘å‚å•†æœ€ä½ 0.64 å…ƒ/å°æ—¶èµ·ã€‚\nè·å–æœåŠ¡å™¨è®¿é—®æƒé™ ä½ éœ€è¦èƒ½ SSH ç™»å½•åˆ°æœåŠ¡å™¨ï¼š\nssh root@your-server-ip ä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰ æœ€å¿«çš„æ–¹å¼ï¼Œé€‚åˆå¤§å¤šæ•°ç”¨æˆ·ï¼š\n# ä¸­å›½ç”¨æˆ·ï¼ˆæ¨èï¼‰ curl -fsSL https://repo.pigsty.io/pig | bash \u0026\u0026 pig sty install -m piglet # æµ·å¤–ç”¨æˆ· curl -fsSL https://repo.pigsty.io/pig | bash \u0026\u0026 pig sty install -m piglet å°±è¿™ä¸€è¡Œå‘½ä»¤ã€‚ç­‰å®ƒè·‘å®Œï¼Œä½ çš„ Agentic Postgres è¿è¡Œæ—¶å°±å‡†å¤‡å¥½äº†ã€‚\nåˆ†æ­¥å®‰è£… å¦‚æœä½ æƒ³äº†è§£æ¯ä¸€æ­¥åœ¨åšä»€ä¹ˆï¼Œæˆ–è€…éœ€è¦è‡ªå®šä¹‰é…ç½®ï¼š\nç¬¬ä¸€æ­¥ï¼šå®‰è£… Pig CLI # ä¸­å›½é•œåƒ curl -fsSL https://repo.pigsty.io/pig | bash # æµ·å¤– CDN curl -fsSL https://repo.pigsty.io/pig | bash Pig æ˜¯ Piglet çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå®‰è£…å®Œæˆåä¼šè‡ªåŠ¨æ·»åŠ åˆ° PATHã€‚\nç¬¬äºŒæ­¥ï¼šé…ç½®è½¯ä»¶æº pig repo set # è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿï¼Œé…ç½®æ‰€æœ‰å¿…è¦çš„è½¯ä»¶æº å¦‚æœä½ åœ¨ä¸­å›½å¤§é™†ï¼Œä½¿ç”¨é•œåƒæºä¼šæ›´å¿«ï¼š\npig repo add all --region china # ä½¿ç”¨ä¸­å›½é•œåƒ ç¬¬ä¸‰æ­¥ï¼šåˆå§‹åŒ–å¹¶å®‰è£… pig sty init # ä¸‹è½½ Pigsty åˆ° ~/pigsty pig sty boot # å®‰è£… Ansibleï¼ˆè‡ªåŠ¨åŒ–å·¥å…·ï¼‰ pig sty conf -m piglet # ç”Ÿæˆ Piglet ä¸“ç”¨é…ç½® pig sty deploy # è¿è¡Œå®‰è£…ï¼ˆè¿™ä¸€æ­¥å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼‰ éªŒè¯å®‰è£… å®‰è£…å®Œæˆåï¼Œæ£€æŸ¥ä¸€åˆ‡æ˜¯å¦æ­£å¸¸ï¼š\npig status # æ•´ä½“çŠ¶æ€ pig pg status # PostgreSQL çŠ¶æ€ è®¿é—®ä½ çš„æœåŠ¡ æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®æœåŠ¡å™¨ IPï¼š\næœåŠ¡ åœ°å€ è¯´æ˜ é¦–é¡µ http://\u003cip\u003e/ Piglet æ¬¢è¿é¡µ VS Code http://\u003cip\u003e/code ç½‘é¡µç‰ˆ IDE Jupyter http://\u003cip\u003e/jupyter æ•°æ®ç§‘å­¦ç¬”è®°æœ¬ Grafana http://\u003cip\u003e/grafana ç›‘æ§ä»ªè¡¨ç›˜ PostgreSQL \u003cip\u003e:5432 æ•°æ®åº“è¿æ¥ é»˜è®¤å‡­æ® æœåŠ¡ ç”¨æˆ·å å¯†ç  PostgreSQL postgres piglet Grafana admin piglet VS Code - piglet å®‰å…¨æç¤ºï¼šé¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹å¯†ç ï¼\né…ç½® Claude Codeï¼ˆå¯é€‰ï¼‰ å¦‚æœä½ è¦ç”¨ Claude Code è¿›è¡Œ AI è¾…åŠ©ç¼–ç¨‹ï¼š\n# åœ¨ä½ çš„æœ¬åœ°æœºå™¨ä¸Š claude config set apiKey YOUR_ANTHROPIC_API_KEY # è¿æ¥åˆ° Piglet æœåŠ¡å™¨ claude connect ssh root@your-server-ip è¯¦è§ Claude Code é…ç½®ã€‚\næ•…éšœæ’é™¤ æŸ¥çœ‹æ—¥å¿— pig pg log tail # PostgreSQL æ—¥å¿— journalctl -u nginx -f # Nginx æ—¥å¿— journalctl -u code-server -f # VS Code æ—¥å¿— å¸¸è§é—®é¢˜ ç—‡çŠ¶ å¯èƒ½åŸå›  è§£å†³æ–¹æ¡ˆ è½¯ä»¶æºæŠ¥é”™ æºé…ç½®è¿‡æœŸ pig repo set -u åˆ·æ–° åŒ…å†²çª å·²æœ‰å…¶ä»–æº pig repo rm \u0026\u0026 pig repo set æƒé™æ‹’ç» é root ç”¨æˆ· ä½¿ç”¨ sudo æˆ–åˆ‡æ¢åˆ° root ç«¯å£æ— æ³•è®¿é—® é˜²ç«å¢™é™åˆ¶ å¼€æ”¾ 80, 443, 5432 ç«¯å£ å†…å­˜ä¸è¶³ æœåŠ¡å™¨é…ç½®ä½ å‡çº§åˆ° 4GB+ å†…å­˜ é‡æ–°å®‰è£… å¦‚æœéœ€è¦ä»å¤´å¼€å§‹ï¼š\npig sty destroy # æ¸…ç†ç°æœ‰å®‰è£… pig sty deploy # é‡æ–°éƒ¨ç½² ä¸‹ä¸€æ­¥ å®‰è£…å®Œæˆäº†ï¼æ¥ä¸‹æ¥ï¼š\nå¿«é€Ÿå¼€å§‹æ•™ç¨‹ - åšä½ çš„ç¬¬ä¸€ä¸ªé™æ€ç½‘é¡µ é…ç½® Claude Code - å¼€å¯ AI ç»“å¯¹ç¼–ç¨‹ æ¶æ„æ¦‚è¿° - äº†è§£ Piglet é‡Œæœ‰ä»€ä¹ˆ ","categories":"","description":"Piglet å®‰è£…çš„å®Œæ•´æµç¨‹","excerpt":"Piglet å®‰è£…çš„å®Œæ•´æµç¨‹","ref":"/zh/docs/tutorial/install/","tags":"","title":"å®Œæ•´å®‰è£…"},{"body":"Apache License 2.0 Piglet Run åŸºäº Apache License 2.0 åè®®å¼€æºã€‚\nCopyright 2025 Ruohang Feng Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. è¿™æ„å‘³ç€ä»€ä¹ˆ Apache 2.0 åè®®å…è®¸æ‚¨ï¼š\nâœ… ä½¿ç”¨ - ä»¥ä»»ä½•ç›®çš„ä½¿ç”¨æœ¬è½¯ä»¶ âœ… ä¿®æ”¹ - ä¿®æ”¹æºä»£ç  âœ… åˆ†å‘ - åˆ†å‘è½¯ä»¶å‰¯æœ¬ âœ… å•†ç”¨ - ç”¨äºå•†ä¸šé¡¹ç›® âœ… ä¸“åˆ©æˆæƒ - åŒ…å«è´¡çŒ®è€…çš„ä¸“åˆ©æˆæƒ ä½¿ç”¨è¦æ±‚ ä½¿ç”¨ Piglet Run æ—¶ï¼Œæ‚¨éœ€è¦ï¼š\nåŒ…å«è®¸å¯è¯å’Œç‰ˆæƒå£°æ˜ è¯´æ˜å¯¹ä»£ç æ‰€åšçš„ä»»ä½•é‡å¤§æ›´æ”¹ å¦‚æœå­˜åœ¨ NOTICE æ–‡ä»¶ï¼Œéœ€è¦åŒ…å«å®ƒ ç¬¬ä¸‰æ–¹ç»„ä»¶ Piglet Run åŒ…å«ä»¥ä¸‹ç¬¬ä¸‰æ–¹å¼€æºç»„ä»¶ï¼š\nç»„ä»¶ åè®® PostgreSQL PostgreSQL License JuiceFS Apache 2.0 VS Code Server MIT Grafana AGPL 3.0 VictoriaMetrics Apache 2.0 Nginx BSD-2-Clause è¯·å‚é˜…å„ç»„ä»¶çš„è®¸å¯è¯äº†è§£å…·ä½“æ¡æ¬¾ã€‚\n","categories":"","description":"Piglet Run æ˜¯åŸºäº Apache 2.0 åè®®å¼€æºçš„è½¯ä»¶ã€‚","excerpt":"Piglet Run æ˜¯åŸºäº Apache 2.0 åè®®å¼€æºçš„è½¯ä»¶ã€‚","ref":"/zh/docs/about/license/","tags":"","title":"å¼€æºåè®®"},{"body":"ä»€ä¹ˆæ˜¯ Piglet Runï¼Ÿ Piglet Runï¼ˆå°çŒªè¿è¡Œæ—¶ï¼‰æ˜¯ Pigsty çš„è½»é‡è¿è¡Œæ—¶ç¯å¢ƒï¼Œä¸“ä¸º AI Web Coding æ‰“é€ çš„äº‘ç«¯ç¼–ç æ²™ç®±ã€‚å®ƒå°† PostgreSQL æ•°æ®åº“ã€JuiceFS åˆ†å¸ƒå¼å­˜å‚¨ã€VS Codeã€JupyterLab ç­‰å·¥å…·æ•´åˆä¸ºä¸€ä½“ã€‚\nä¸ºä»€ä¹ˆé€‰æ‹© Piglet Runï¼Ÿ åœ¨ AI è¾…åŠ©å¼€å‘çš„æ—¶ä»£ï¼Œå¼€å‘è€…éœ€è¦ï¼š\nå³ç”¨å‹å¼€å‘ç¯å¢ƒï¼Œå¼€ç®±å³ç”¨ å¼ºå¤§çš„æ•°æ®åº“ï¼Œæ‰€æœ‰æ‰©å±•éƒ½å¯ç”¨ å®‰å…¨çš„å®éªŒç¯å¢ƒï¼Œè½»æ¾å›æ»š æ— ç¼åä½œï¼Œäººä¸ AI Agent ååŒå·¥ä½œ Piglet Run å°†è¿™ä¸€åˆ‡æ•´åˆåœ¨ä¸€ä¸ªè½¯ä»¶åŒ…ä¸­ã€‚\næ ¸å¿ƒç‰¹æ€§ ç‰¹æ€§ è¯´æ˜ ğŸ¤– AI ç¼–ç  é¢„è£… Claude Codeã€OpenCodeã€VS Codeã€Jupyter ğŸ˜ æ•°æ®å…¨èƒ½ PostgreSQL 18 + 400+ æ‰©å±• ğŸ’¾ å…±äº«å­˜å‚¨ JuiceFS å°†å·¥ä½œç›®å½•å­˜å…¥æ•°æ®åº“ â±ï¸ æ—¶å…‰æœºå™¨ æ•°æ®åº“ PITR + æ–‡ä»¶ç³»ç»Ÿå¿«ç…§ ğŸ”€ ç¬é—´å…‹éš† Copy-on-Write é›¶æ‹·è´å…‹éš† ğŸŒ ä¸€é”®ä¸Šçº¿ å†…ç½® Nginxï¼Œè‡ªåŠ¨ SSL ğŸ“Š å…¨æ ˆç›‘æ§ VictoriaMetrics + Grafana ğŸ‡¨ğŸ‡³ å›½å†…ç•…é€š å…¨çƒ CDN + å›½å†…é•œåƒ é€‚ç”¨äººç¾¤ ç‹¬ç«‹å¼€å‘è€…ï¼šéœ€è¦å¼ºå¤§å¼€å‘ç¯å¢ƒ å¼€å‘å›¢é˜Ÿï¼šéœ€è¦å…±äº«å¼€å‘åŸºç¡€è®¾æ–½ AI å¼€å‘è€…ï¼šä½¿ç”¨ Claude Code ç­‰å·¥å…· æ•°æ®ç§‘å­¦å®¶ï¼šä½¿ç”¨ PostgreSQL å’Œ Jupyter å­¦ä¹ è€…ï¼šæ¢ç´¢ PostgreSQL å’Œ Web å¼€å‘ å·¥ä½œåŸç† â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Piglet Run â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ VS Code â”‚ â”‚ Jupyter â”‚ â”‚ Claude â”‚ â”‚ Nginx â”‚ â”‚ â”‚ â”‚ Server â”‚ â”‚ Lab â”‚ â”‚ Code â”‚ â”‚ Proxy â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ JuiceFS (å…±äº«å­˜å‚¨) â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ PostgreSQL 18 + 400+ æ‰©å±• â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ VictoriaMetrics + Grafana (ç›‘æ§) â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ ä¸‹ä¸€æ­¥ å®‰è£… Piglet Run å¼€å§‹ä½¿ç”¨ äº†è§£ æ¶æ„ æ¢ç´¢ å­˜å‚¨ ç³»ç»Ÿ ","categories":"","description":"","excerpt":"ä»€ä¹ˆæ˜¯ Piglet Runï¼Ÿ Piglet Runï¼ˆå°çŒªè¿è¡Œæ—¶ï¼‰æ˜¯ Pigsty çš„è½»é‡è¿è¡Œæ—¶ç¯å¢ƒï¼Œä¸“ä¸º AI Web Coding æ‰“é€  â€¦","ref":"/zh/docs/concept/overview/","tags":"","title":"æ¦‚è¿°"},{"body":"System Architecture Piglet Run is built on top of Pigsty, providing a streamlined development environment.\nComponents Component Role Port Nginx Reverse proxy, SSL termination 80, 443 VS Code Server Web-based IDE /code JupyterLab Data science notebook /jupyter PostgreSQL Primary database 5432 JuiceFS Distributed filesystem - VictoriaMetrics Metrics storage 8428 Grafana Monitoring dashboards /ui Network Architecture Internet â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Nginx â”‚ :80, :443 â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ â”‚ â–¼ â–¼ â–¼ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ VS Code â”‚ â”‚ Jupyter â”‚ â”‚ Grafana â”‚ â”‚ App â”‚ â”‚ /code â”‚ â”‚/jupyter â”‚ â”‚ /ui â”‚ â”‚ /* â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Storage Architecture All development work is stored in PostgreSQL via JuiceFS:\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Working Directory â”‚ â”‚ ~/workspace â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ JuiceFS â”‚ â”‚ (POSIX-compatible FS) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ PostgreSQL â”‚ â”‚ (Metadata + Data Chunks) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Next Steps Learn about Storage Understand Snapshots ","categories":"","description":"","excerpt":"System Architecture Piglet Run is built on top of Pigsty, providing a â€¦","ref":"/docs/concept/arch/","tags":"","title":"Architecture"},{"body":"Concept documentation helps you understand the principles and architecture behind Piglet Run.\nWhat Youâ€™ll Learn How Piglet Run works under the hood The design philosophy and architecture Key concepts like snapshots, cloning, and storage Topics Topic Description Overview What is Piglet Run and why use it Architecture System architecture and components Storage JuiceFS and shared storage Snapshot Time machine and PITR Clone Copy-on-Write database cloning Monitor Observability stack Security Access control and encryption ","categories":"","description":"Understand the core concepts, architecture, and design philosophy behind Piglet Run.","excerpt":"Understand the core concepts, architecture, and design philosophy â€¦","ref":"/docs/concept/","tags":"","title":"Concept"},{"body":"Configuration file reference for Piglet Run.\nOverview Piglet Run uses YAML configuration files located in /etc/piglet/.\nMain Configuration File: /etc/piglet/piglet.yml\n# Piglet Run Configuration # System settings system: hostname: piglet timezone: UTC locale: en_US.UTF-8 # Database settings database: host: localhost port: 5432 user: dba database: postgres max_connections: 100 shared_buffers: 256MB # Services services: vscode: enabled: true port: 8080 jupyter: enabled: true port: 8888 grafana: enabled: true port: 3000 # Storage storage: data_dir: /data backup_dir: /data/backup temp_dir: /tmp/piglet # Logging logging: level: info file: /var/log/piglet/piglet.log max_size: 100M max_files: 10 Database Configuration File: /etc/piglet/database.yml\n# PostgreSQL Configuration postgresql: version: 17 data_directory: /data/postgres # Connection settings listen_addresses: localhost port: 5432 max_connections: 100 # Memory settings shared_buffers: 256MB effective_cache_size: 768MB work_mem: 4MB maintenance_work_mem: 64MB # WAL settings wal_level: replica max_wal_size: 1GB min_wal_size: 80MB # Logging log_destination: csvlog logging_collector: on log_directory: pg_log Service Configuration VS Code Server File: /etc/piglet/vscode.yml\nvscode: enabled: true port: 8080 auth: password extensions: - ms-python.python - rust-lang.rust-analyzer JupyterLab File: /etc/piglet/jupyter.yml\njupyter: enabled: true port: 8888 notebook_dir: /home/dba/notebooks kernels: - python3 - ir Backup Configuration File: /etc/piglet/backup.yml\nbackup: enabled: true schedule: \"0 2 * * *\" retention: 7 database: type: full compress: true files: enabled: true paths: - /home/dba - /etc/piglet Network Configuration File: /etc/piglet/network.yml\nnetwork: # Domain settings domain: localhost # SSL settings ssl: enabled: false cert: /etc/piglet/ssl/cert.pem key: /etc/piglet/ssl/key.pem # Proxy settings proxy: enabled: false host: proxy.example.com port: 8080 Environment Variables Override configuration with environment variables:\nexport PIG_DATABASE_PORT=5433 export PIG_SERVICES_VSCODE_ENABLED=false export PIG_LOGGING_LEVEL=debug See Also CLI Reference PostgreSQL Configuration ","categories":"","description":"","excerpt":"Configuration file reference for Piglet Run.\nOverview Piglet Run uses â€¦","ref":"/docs/reference/config/","tags":"","title":"Configuration"},{"body":"Your First 5 Minutes This tutorial gets you productive with Piglet Run in 5 minutes.\nAccess Your Environment After installation, access your environment:\nService URL Default Credentials Homepage http://\u003cip\u003e/ None VS Code http://\u003cip\u003e/code See /data/code/config.yaml Jupyter http://\u003cip\u003e/jupyter Token in logs Grafana http://\u003cip\u003e/ui admin / admin Create Your First Project 1. Open VS Code Navigate to http://\u003cip\u003e/code in your browser.\n2. Open Terminal Press Ctrl+` to open the integrated terminal.\n3. Create a Project cd ~/workspace mkdir my-first-project cd my-first-project 4. Create a Simple App Create app.py:\nfrom http.server import HTTPServer, SimpleHTTPRequestHandler print(\"Server running on http://localhost:8000\") HTTPServer(('', 8000), SimpleHTTPRequestHandler).serve_forever() 5. Run It python app.py Connect to PostgreSQL psql postgres://postgres@localhost/postgres Or in Python:\nimport psycopg conn = psycopg.connect(\"postgres://postgres@localhost/postgres\") Next Steps Learn more about VS Code Explore Jupyter Try Claude Code ","categories":"","description":"","excerpt":"Your First 5 Minutes This tutorial gets you productive with Piglet Run â€¦","ref":"/docs/tutorial/quickstart/","tags":"","title":"Quick Start"},{"body":"Learn how to restore your database and files from backups or snapshots.\nOverview Piglet Run supports multiple restore scenarios:\nPoint-in-Time Recovery: Restore to any moment in time Full Restore: Restore from a complete backup Selective Restore: Restore specific databases or files Quick Restore Restore from the latest backup:\npig restore latest Restore Database List Available Backups pig backup list Restore Full Backup pig restore db --backup 2024-01-15 Point-in-Time Recovery pig restore db --time \"2024-01-15 14:30:00\" Restore Specific Database pig restore db mydb --backup 2024-01-15 Restore Files Restore All Files pig restore files --backup 2024-01-15 Restore Specific Directory pig restore files /home/dba/projects --backup 2024-01-15 Restore from Snapshot pig snapshot restore snap-20240115 Verification After restore, verify data integrity:\npig verify db pig verify files Next Steps Learn about Backup Understand Clone ","categories":"","description":"","excerpt":"Learn how to restore your database and files from backups or â€¦","ref":"/docs/task/restore/","tags":"","title":"Restore"},{"body":"ç›®æ ‡ è¿™ä¸ªæ•™ç¨‹ä¼šå¸¦ä½ å®Œæˆï¼š\nç™»å½•ä½ çš„ Piglet ç¯å¢ƒ ç”¨ Claude Code ç”Ÿæˆä¸€ä¸ªæ•°æ®å¯è§†åŒ–ç½‘é¡µ æŠŠå®ƒéƒ¨ç½²ä¸Šçº¿ å®Œæˆåï¼Œä½ ä¼šæœ‰ä¸€ä¸ªå¯ä»¥å…¬å¼€è®¿é—®çš„ç½‘é¡µï¼Œå±•ç¤ºä¸€ä¸ªäº¤äº’å¼ ECharts å›¾è¡¨ã€‚\nç¬¬ä¸€æ­¥ï¼šç™»å½•ç¯å¢ƒ æ–¹å¼ Aï¼šç½‘é¡µç‰ˆ VS Codeï¼ˆæ¨èæ–°æ‰‹ï¼‰ æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼š\nhttp://ä½ çš„æœåŠ¡å™¨IP/code è¾“å…¥å¯†ç  pigletï¼ˆé¦–æ¬¡ä½¿ç”¨è¯·ä¿®æ”¹ï¼‰ã€‚\næ–¹å¼ Bï¼šæœ¬åœ° VS Code + SSHï¼ˆæ¨èæ—¥å¸¸ä½¿ç”¨ï¼‰ åœ¨æœ¬åœ° VS Code ä¸­ï¼š\nå®‰è£… Remote - SSH æ‰©å±• æŒ‰ Cmd+Shift+P / Ctrl+Shift+Pï¼Œé€‰æ‹© Remote-SSH: Connect to Host è¾“å…¥ root@ä½ çš„æœåŠ¡å™¨IP æ–¹å¼ Cï¼šClaude Code ç›´è¿ï¼ˆAI ç¼–ç¨‹ï¼‰ # åœ¨æœ¬åœ°ç»ˆç«¯ claude connect ssh root@ä½ çš„æœåŠ¡å™¨IP ç¬¬äºŒæ­¥ï¼šåˆ›å»ºé¡¹ç›®ç›®å½• æ‰“å¼€ç»ˆç«¯ï¼Œåˆ›å»ºå·¥ä½œç›®å½•ï¼š\ncd ~/data mkdir my-first-site cd my-first-site ç¬¬ä¸‰æ­¥ï¼šè®© Claude å¸®ä½ å†™ä»£ç  è¿™æ˜¯ Piglet çš„é­”æ³•æ—¶åˆ»ã€‚\nå¦‚æœä½ ç”¨ Claude Codeï¼š ç›´æ¥å‘Šè¯‰å®ƒä½ æƒ³è¦ä»€ä¹ˆï¼š\nç»™æˆ‘åšä¸€ä¸ªç½‘é¡µï¼Œå±•ç¤ºä¸€ä¸ª ECharts æŸ±çŠ¶å›¾ï¼Œæ•°æ®æ˜¯è¿‡å» 7 å¤©çš„è®¿é—®é‡ï¼ˆéšä¾¿ç¼–ä¸€äº›æ•°æ®ï¼‰ã€‚ è¦æ±‚ï¼š - å•ä¸ª HTML æ–‡ä»¶ï¼Œå†…è”æ‰€æœ‰ CSS å’Œ JS - ä½¿ç”¨ ECharts CDN - é¡µé¢è¦å¥½çœ‹ï¼Œæœ‰æ ‡é¢˜ Claude ä¼šç›´æ¥åœ¨å½“å‰ç›®å½•åˆ›å»º index.htmlã€‚\nå¦‚æœä½ æ‰‹åŠ¨å†™ï¼š åˆ›å»º index.htmlï¼š\n\u003c!DOCTYPE html\u003e \u003chtml lang=\"zh\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e \u003ctitle\u003eæˆ‘çš„ç¬¬ä¸€ä¸ª Piglet ç½‘é¡µ\u003c/title\u003e \u003cscript src=\"https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js\"\u003e\u003c/script\u003e \u003cstyle\u003e * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; display: flex; flex-direction: column; align-items: center; padding: 40px 20px; } h1 { color: white; margin-bottom: 30px; font-size: 2rem; text-shadow: 0 2px 4px rgba(0,0,0,0.2); } .chart-container { background: white; border-radius: 16px; padding: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); width: 100%; max-width: 800px; } #chart { width: 100%; height: 400px; } .footer { color: rgba(255,255,255,0.8); margin-top: 30px; font-size: 0.9rem; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003ch1\u003eè¿‡å» 7 å¤©è®¿é—®é‡\u003c/h1\u003e \u003cdiv class=\"chart-container\"\u003e \u003cdiv id=\"chart\"\u003e\u003c/div\u003e \u003c/div\u003e \u003cp class=\"footer\"\u003eç”± Piglet é©±åŠ¨ | Code Fearlessly, Ship Instantly.\u003c/p\u003e \u003cscript\u003e const chart = echarts.init(document.getElementById('chart')); const option = { tooltip: { trigger: 'axis' }, xAxis: { type: 'category', data: ['å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­', 'å‘¨æ—¥'] }, yAxis: { type: 'value', name: 'è®¿é—®é‡' }, series: [{ data: [820, 932, 901, 1290, 1330, 1520, 1680], type: 'bar', itemStyle: { borderRadius: [8, 8, 0, 0], color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [ { offset: 0, color: '#667eea' }, { offset: 1, color: '#764ba2' } ]) } }] }; chart.setOption(option); window.addEventListener('resize', () =\u003e chart.resize()); \u003c/script\u003e \u003c/body\u003e \u003c/html\u003e ç¬¬å››æ­¥ï¼šé¢„è§ˆ åœ¨ç»ˆç«¯ä¸­å¯åŠ¨ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ï¼š\npython3 -m http.server 8080 ç„¶åè®¿é—® http://ä½ çš„æœåŠ¡å™¨IP:8080ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ä¸€ä¸ªæ¼‚äº®çš„æŸ±çŠ¶å›¾é¡µé¢ã€‚\næŒ‰ Ctrl+C åœæ­¢æœåŠ¡å™¨ã€‚\nç¬¬äº”æ­¥ï¼šéƒ¨ç½²ä¸Šçº¿ è®©è¿™ä¸ªç½‘é¡µå¯ä»¥é€šè¿‡æ­£å¼çš„ URL è®¿é—®ï¼š\n# å¤åˆ¶åˆ° Nginx é™æ€æ–‡ä»¶ç›®å½• sudo cp index.html /www/my-first-site/ æˆ–è€…ä½¿ç”¨ pig deploy å‘½ä»¤ï¼š\npig deploy . --name my-first-site ç°åœ¨è®¿é—® http://ä½ çš„æœåŠ¡å™¨IP/my-first-site/ å°±èƒ½çœ‹åˆ°ä½ çš„ç½‘é¡µäº†ã€‚\næ­å–œï¼ ä½ åˆšåˆšå®Œæˆäº†ï¼š\nâœ… ç™»å½• Piglet å¼€å‘ç¯å¢ƒ âœ… ç”¨ Claude Codeï¼ˆæˆ–æ‰‹åŠ¨ï¼‰åˆ›å»ºäº†ä¸€ä¸ªæ•°æ®å¯è§†åŒ–ç½‘é¡µ âœ… æŠŠå®ƒéƒ¨ç½²åˆ°äº†äº’è”ç½‘ä¸Š ä»æƒ³æ³•åˆ°ä¸Šçº¿ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚\nå‘ç”Ÿäº†ä»€ä¹ˆ è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ Piglet ä¸ºä½ åšäº†ä»€ä¹ˆï¼š\nä¼ ç»Ÿæ–¹å¼ Piglet æ–¹å¼ ä¹°æœåŠ¡å™¨ â†’ è£…ç³»ç»Ÿ â†’ é…ç¯å¢ƒ â†’ è£… Node/Python â†’ é… Nginx â†’ é… SSLâ€¦ ä¸€æ¡å‘½ä»¤å®‰è£…ï¼Œå¼€ç®±å³ç”¨ æœ¬åœ°å†™ä»£ç  â†’ Git push â†’ CI/CD â†’ éƒ¨ç½² ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šå†™ï¼Œä¸€è¡Œå‘½ä»¤éƒ¨ç½² è‡ªå·±å†™ HTML/CSS/JS å‘Šè¯‰ Claude â€œç»™æˆ‘åšä¸€ä¸ªç½‘é¡µâ€ è¿™å°±æ˜¯ Code Fearlessly, Ship Instantly çš„å«ä¹‰ã€‚\nä¸‹ä¸€æ­¥ ç°åœ¨ä½ å·²ç»ç†Ÿæ‚‰äº†åŸºæœ¬æµç¨‹ï¼Œå¯ä»¥ç»§ç»­ï¼š\nç¬¬ä¸€ä¸ª Web åº”ç”¨ - åšä¸€ä¸ªå¸¦æ•°æ®åº“çš„ Flask/Node.js åº”ç”¨ é…ç½® Claude Code - æ·±åº¦ä½¿ç”¨ AI è¾…åŠ©ç¼–ç¨‹ ç¾éš¾æ¢å¤ - ä½“éªŒ PITR æ—¶é—´æ—…è¡Œï¼Œæç ¸äº†ä¹Ÿä¸æ€• ","categories":"","description":"å®‰è£… Pigletï¼Œç”¨ Claude Code åšä¸€ä¸ªé™æ€ç½‘é¡µ","excerpt":"å®‰è£… Pigletï¼Œç”¨ Claude Code åšä¸€ä¸ªé™æ€ç½‘é¡µ","ref":"/zh/docs/tutorial/quickstart/","tags":"","title":"å¿«é€Ÿå¼€å§‹"},{"body":"äº†è§£å¦‚ä½•ä»å¤‡ä»½æˆ–å¿«ç…§æ¢å¤æ•°æ®åº“å’Œæ–‡ä»¶ã€‚\næ¦‚è¿° Piglet Run æ”¯æŒå¤šç§æ¢å¤åœºæ™¯ï¼š\næ—¶é—´ç‚¹æ¢å¤ï¼šæ¢å¤åˆ°ä»»æ„æ—¶é—´ç‚¹ å…¨é‡æ¢å¤ï¼šä»å®Œæ•´å¤‡ä»½æ¢å¤ é€‰æ‹©æ€§æ¢å¤ï¼šæ¢å¤ç‰¹å®šæ•°æ®åº“æˆ–æ–‡ä»¶ å¿«é€Ÿæ¢å¤ ä»æœ€æ–°å¤‡ä»½æ¢å¤ï¼š\npig restore latest æ¢å¤æ•°æ®åº“ åˆ—å‡ºå¯ç”¨å¤‡ä»½ pig backup list æ¢å¤å…¨é‡å¤‡ä»½ pig restore db --backup 2024-01-15 æ—¶é—´ç‚¹æ¢å¤ pig restore db --time \"2024-01-15 14:30:00\" æ¢å¤æŒ‡å®šæ•°æ®åº“ pig restore db mydb --backup 2024-01-15 æ¢å¤æ–‡ä»¶ æ¢å¤æ‰€æœ‰æ–‡ä»¶ pig restore files --backup 2024-01-15 æ¢å¤æŒ‡å®šç›®å½• pig restore files /home/dba/projects --backup 2024-01-15 ä»å¿«ç…§æ¢å¤ pig snapshot restore snap-20240115 éªŒè¯ æ¢å¤åéªŒè¯æ•°æ®å®Œæ•´æ€§ï¼š\npig verify db pig verify files ä¸‹ä¸€æ­¥ äº†è§£å¤‡ä»½ ç†è§£å…‹éš† ","categories":"","description":"","excerpt":"äº†è§£å¦‚ä½•ä»å¤‡ä»½æˆ–å¿«ç…§æ¢å¤æ•°æ®åº“å’Œæ–‡ä»¶ã€‚\næ¦‚è¿° Piglet Run æ”¯æŒå¤šç§æ¢å¤åœºæ™¯ï¼š\næ—¶é—´ç‚¹æ¢å¤ï¼šæ¢å¤åˆ°ä»»æ„æ—¶é—´ç‚¹ å…¨é‡æ¢å¤ï¼šä»å®Œæ•´å¤‡ä»½æ¢ â€¦","ref":"/zh/docs/task/restore/","tags":"","title":"æ¢å¤"},{"body":"Piglet æ˜¯ä»€ä¹ˆ Piglet æ˜¯ä¸“ä¸º AI è¾…åŠ©ç¼–ç¨‹è®¾è®¡çš„ Agentic Postgres è¿è¡Œæ—¶ã€‚\nå®ƒä¸åªæ˜¯ä¸€ä¸ªæ•°æ®åº“ï¼Œè€Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„äº‘ç«¯å¼€å‘ç¯å¢ƒï¼šä»ä¸€å° 0.64 å…ƒçš„è£¸ VMï¼Œåˆ°å®Œæ•´çš„ç”Ÿäº§çº§ç½‘ç«™ï¼Œå¼€ç®±å³ç”¨ã€‚\näº§å“æœ¬è´¨ Piglet æ˜¯ä¸€ä¸ª\"ç¼åˆæ€ª\"â€”â€”å®ƒé›†æˆäº†ï¼š\nèƒ½åŠ› å¯¹æ ‡äº§å“ Piglet æä¾› æ•°æ®åº“å³æœåŠ¡ Neon, Supabase PostgreSQL + PITR æ—¶é—´æ—…è¡Œ äº‘ç«¯ IDE GitHub Codespaces VS Code Server + Jupyter AI ç¼–ç¨‹ Cursor, Windsurf Claude Code åŸç”Ÿæ”¯æŒ åº”ç”¨æ‰˜ç®¡ Vercel, Railway Nginx + Node.js + Python ç›‘æ§å¯è§‚æµ‹ Datadog Grafana + VictoriaMetrics æ ¸å¿ƒä»·å€¼ï¼šç”±ç”Ÿäº§çº§æ–¹æ¡ˆï¼ˆPigstyï¼‰æ”¹é€ æˆçš„ä¸ªäººçº§æ–¹æ¡ˆâ€”â€”é™ç»´æ‰“å‡»ã€‚\næ ¸å¿ƒç»„ä»¶ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Piglet Runtime â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ VS Code â”‚ â”‚ Jupyter â”‚ â”‚ Claude â”‚ â”‚ Your â”‚ â”‚ â”‚ â”‚ Server â”‚ â”‚ Lab â”‚ â”‚ Code â”‚ â”‚ App â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ Nginx â”‚ åå‘ä»£ç† + SSL â”‚ â”‚ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ PostgreSQL 17 â”‚ â”‚ â”‚ â”‚ ç”Ÿäº§çº§æ•°æ®åº“ + PITR æ—¶é—´æ—…è¡Œ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ JuiceFS (PITRFS) â”‚ â”‚ â”‚ â”‚ æ–‡ä»¶ç³»ç»Ÿä¹Ÿèƒ½æ—¶é—´æ—…è¡Œçš„ç§˜å¯†æ­¦å™¨ â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â”‚ Grafana â”‚ â”‚ Victoria â”‚ â”‚ Loki â”‚ â”‚ â”‚ â”‚ ç›‘æ§é¢æ¿ â”‚ â”‚ Metrics â”‚ â”‚ æ—¥å¿— â”‚ â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ ç»„ä»¶æ¸…å• ç»„ä»¶ è§’è‰² è®¿é—®æ–¹å¼ Nginx åå‘ä»£ç†ï¼ŒSSL ç»ˆæ­¢ï¼Œé™æ€æ–‡ä»¶æ‰˜ç®¡ :80, :443 VS Code Server ç½‘é¡µç‰ˆ IDEï¼Œæ”¯æŒè¿œç¨‹ SSH /code JupyterLab æ•°æ®ç§‘å­¦ç¬”è®°æœ¬ /jupyter PostgreSQL 17 ä¸»æ•°æ®åº“ï¼Œå¸¦ 340+ æ‰©å±• :5432 JuiceFS åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼ˆPITRFSï¼‰ ~/data VictoriaMetrics æ—¶åºæŒ‡æ ‡å­˜å‚¨ :8428 Grafana ç›‘æ§ä»ªè¡¨ç›˜ /grafana Loki æ—¥å¿—èšåˆ - Agentic è®¾è®¡ Piglet çš„æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯ Human-Agent Parityï¼ˆäººæœºå¯¹ç­‰ï¼‰ï¼š\näººçœ‹åˆ°çš„ = Agent çœ‹åˆ°çš„ï¼ŒåŒä¸€å¥—å·¥å…·ã€åŒä¸€ä¸ªè§†è§’ã€‚\näººæœºåˆ†å·¥ è§’è‰² èŒè´£ ä½ ï¼ˆäººç±»ï¼‰ æå‡ºéœ€æ±‚ã€æ´¾æ´»ã€éªŒæ”¶ Agentï¼ˆAIï¼‰ åˆ©ç”¨ç¯å¢ƒé‡Œçš„å·¥å…·å®ç°éœ€æ±‚ Agent å¯èƒ½æ¯”å¾ˆå¤šç”¨æˆ·æ›´æ‡‚ç¯å¢ƒé‡Œæœ‰ä»€ä¹ˆèƒ½ç”¨ï¼Œä½†æœ€ç»ˆè¿˜æ˜¯äººç±»è¯´äº†ç®—ã€‚\nç”¨æˆ·ç”»åƒ ç”¨æˆ·ç±»å‹ ä»–ä»¬æƒ³è¦ä»€ä¹ˆ Agent æ‰®æ¼”çš„è§’è‰² DBA/ä¸“å®¶ åˆ©ç”¨ Agent è‡ªåŠ¨åŒ–ä¸“ä¸šä»»åŠ¡ æ‰§è¡ŒåŠ©æ‰‹ æ™®é€šå¼€å‘è€… å¿«é€Ÿä¸Šçº¿ Web åº”ç”¨ æ‡‚è¡Œçš„é˜Ÿå‹ å°ç™½ åªè¯´\"æˆ‘è¦ä¸€ä¸ª XX\" å…¨èƒ½ä»£ç† Claude.md Piglet æä¾› CLAUDE.md æ–‡ä»¶ï¼Œå‘Šè¯‰ AI Agent ç¯å¢ƒé‡Œæœ‰ä»€ä¹ˆã€èƒ½åšä»€ä¹ˆï¼š\nå¯ç”¨çš„æ•°æ®åº“å’Œè¿æ¥æ–¹å¼ å¯ç”¨çš„å‘½ä»¤è¡Œå·¥å…· æ–‡ä»¶ç³»ç»Ÿç»“æ„ éƒ¨ç½²å’Œå‘å¸ƒæ–¹å¼ å­˜å‚¨æ¶æ„ Piglet çš„æ€æ‰‹é”æ˜¯ PITRFSâ€”â€”æ–‡ä»¶ç³»ç»Ÿä¹Ÿèƒ½åƒæ•°æ®åº“ä¸€æ ·ä»»æ„æ—¶é—´ç‚¹å›æ»šã€‚\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ ä½ çš„ä»£ç å’Œæ•°æ® â”‚ â”‚ ~/data/workspace â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ JuiceFS â”‚ â”‚ POSIX å…¼å®¹ + æ—¶é—´æ—…è¡Œèƒ½åŠ› â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ PostgreSQL â”‚ â”‚ å…ƒæ•°æ® + æ•°æ®å— + WAL å½’æ¡£ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â–¼ ä»»æ„æ—¶é—´ç‚¹æ¢å¤ (PITR) è¿™æ„å‘³ç€ï¼š\næ•°æ®åº“å¯ä»¥å›æ»šï¼šæ ‡å‡† PostgreSQL PITR æ–‡ä»¶ç³»ç»Ÿä¹Ÿå¯ä»¥å›æ»šï¼šåŸºäº JuiceFS + PostgreSQL çš„ PITRFS æç ¸äº†ä¹Ÿä¸æ€•ï¼šè¯¯åˆ ä»£ç ï¼Ÿå›åˆ° 10 åˆ†é’Ÿå‰ã€‚Agent æŠŠæ•°æ®åº“æå´©äº†ï¼Ÿä¸€æ¡å‘½ä»¤æ¢å¤ã€‚ ç½‘ç»œæ¶æ„ æ‰€æœ‰æœåŠ¡é€šè¿‡ Nginx ç»Ÿä¸€æš´éœ²ï¼Œæ”¯æŒ HTTPSï¼š\nInternet â”‚ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Nginx (:80, :443) â”‚ â”‚ - SSL ç»ˆæ­¢ â”‚ â”‚ - åå‘ä»£ç† â”‚ â”‚ - é™æ€æ–‡ä»¶æ‰˜ç®¡ â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â”‚ â–¼ â–¼ â–¼ â–¼ /code /jupyter /grafana /* VS Code Jupyter Grafana ä½ çš„åº”ç”¨ ä¸ Pigsty çš„å…³ç³» ç»´åº¦ Pigsty Piglet å®šä½ ä¼ä¸šçº§ PostgreSQL å‘è¡Œç‰ˆ ä¸ªäººçº§ Agentic è¿è¡Œæ—¶ ç›®æ ‡ç”¨æˆ· DBAã€è¿ç»´ã€ä¼ä¸š ä¸ªäººå¼€å‘è€…ã€AI ç¼–ç¨‹è€… è§„æ¨¡ å¤šèŠ‚ç‚¹é›†ç¾¤ å•èŠ‚ç‚¹ å¤æ‚åº¦ åŠŸèƒ½å®Œæ•´ã€é…ç½®ä¸°å¯Œ å¼€ç®±å³ç”¨ã€æç®€é…ç½® è°ƒæ€§ ä¸“ä¸šã€ä¸¥è°¨ã€å¯é  æ–¹ä¾¿ã€çµæ´»ã€å¥½ç© Piglet æ˜¯ Pigsty çš„ç²¾ç®€ç‰ˆï¼Œç»§æ‰¿äº†ç”Ÿäº§çº§çš„å¯é æ€§ï¼Œä½†å»æ‰äº†ä¼ä¸šçº§çš„å¤æ‚æ€§ã€‚\nä¸‹ä¸€æ­¥ å¿«é€Ÿå¼€å§‹ - 10 åˆ†é’Ÿä¸Šæ‰‹ PITRFS åŸç† - ç†è§£æ—¶é—´æ—…è¡Œ Agentic è®¾è®¡ - æ·±å…¥äººæœºåä½œ ","categories":"","description":"Piglet é‡Œæœ‰ä»€ä¹ˆï¼Œæ€ä¹ˆç»„ç»‡","excerpt":"Piglet é‡Œæœ‰ä»€ä¹ˆï¼Œæ€ä¹ˆç»„ç»‡","ref":"/zh/docs/concept/arch/","tags":"","title":"æ¶æ„æ¦‚è¿°"},{"body":"æ¦‚å¿µæ–‡æ¡£å¸®åŠ©ä½ ç†è§£ Piglet Run èƒŒåçš„åŸç†å’Œæ¶æ„ã€‚\nä½ å°†å­¦åˆ° Piglet Run çš„åº•å±‚å·¥ä½œåŸç† è®¾è®¡å“²å­¦å’Œæ¶æ„ å¿«ç…§ã€å…‹éš†ã€å­˜å‚¨ç­‰å…³é”®æ¦‚å¿µ ä¸»é¢˜ ä¸»é¢˜ æè¿° æ¦‚è¿° ä»€ä¹ˆæ˜¯ Piglet Runï¼Œä¸ºä»€ä¹ˆä½¿ç”¨å®ƒ æ¶æ„ ç³»ç»Ÿæ¶æ„å’Œç»„ä»¶ å­˜å‚¨ JuiceFS å’Œå…±äº«å­˜å‚¨ å¿«ç…§ æ—¶å…‰æœºå™¨å’Œ PITR å…‹éš† Copy-on-Write æ•°æ®åº“å…‹éš† ç›‘æ§ å¯è§‚æµ‹æ€§æŠ€æœ¯æ ˆ å®‰å…¨ è®¿é—®æ§åˆ¶å’ŒåŠ å¯† ","categories":"","description":"ç†è§£ Piglet Run çš„æ ¸å¿ƒæ¦‚å¿µã€æ¶æ„è®¾è®¡ä¸è®¾è®¡ç†å¿µã€‚","excerpt":"ç†è§£ Piglet Run çš„æ ¸å¿ƒæ¦‚å¿µã€æ¶æ„è®¾è®¡ä¸è®¾è®¡ç†å¿µã€‚","ref":"/zh/docs/concept/","tags":"","title":"æ¦‚å¿µ"},{"body":"Piglet Run é…ç½®æ–‡ä»¶å‚è€ƒã€‚\næ¦‚è¿° Piglet Run ä½¿ç”¨ä½äº /etc/piglet/ çš„ YAML é…ç½®æ–‡ä»¶ã€‚\nä¸»é…ç½® æ–‡ä»¶ï¼š/etc/piglet/piglet.yml\n# Piglet Run é…ç½® # ç³»ç»Ÿè®¾ç½® system: hostname: piglet timezone: UTC locale: en_US.UTF-8 # æ•°æ®åº“è®¾ç½® database: host: localhost port: 5432 user: dba database: postgres max_connections: 100 shared_buffers: 256MB # æœåŠ¡ services: vscode: enabled: true port: 8080 jupyter: enabled: true port: 8888 grafana: enabled: true port: 3000 # å­˜å‚¨ storage: data_dir: /data backup_dir: /data/backup temp_dir: /tmp/piglet # æ—¥å¿— logging: level: info file: /var/log/piglet/piglet.log max_size: 100M max_files: 10 æ•°æ®åº“é…ç½® æ–‡ä»¶ï¼š/etc/piglet/database.yml\n# PostgreSQL é…ç½® postgresql: version: 17 data_directory: /data/postgres # è¿æ¥è®¾ç½® listen_addresses: localhost port: 5432 max_connections: 100 # å†…å­˜è®¾ç½® shared_buffers: 256MB effective_cache_size: 768MB work_mem: 4MB maintenance_work_mem: 64MB # WAL è®¾ç½® wal_level: replica max_wal_size: 1GB min_wal_size: 80MB # æ—¥å¿— log_destination: csvlog logging_collector: on log_directory: pg_log æœåŠ¡é…ç½® VS Code æœåŠ¡å™¨ æ–‡ä»¶ï¼š/etc/piglet/vscode.yml\nvscode: enabled: true port: 8080 auth: password extensions: - ms-python.python - rust-lang.rust-analyzer JupyterLab æ–‡ä»¶ï¼š/etc/piglet/jupyter.yml\njupyter: enabled: true port: 8888 notebook_dir: /home/dba/notebooks kernels: - python3 - ir å¤‡ä»½é…ç½® æ–‡ä»¶ï¼š/etc/piglet/backup.yml\nbackup: enabled: true schedule: \"0 2 * * *\" retention: 7 database: type: full compress: true files: enabled: true paths: - /home/dba - /etc/piglet ç½‘ç»œé…ç½® æ–‡ä»¶ï¼š/etc/piglet/network.yml\nnetwork: # åŸŸåè®¾ç½® domain: localhost # SSL è®¾ç½® ssl: enabled: false cert: /etc/piglet/ssl/cert.pem key: /etc/piglet/ssl/key.pem # ä»£ç†è®¾ç½® proxy: enabled: false host: proxy.example.com port: 8080 ç¯å¢ƒå˜é‡ ä½¿ç”¨ç¯å¢ƒå˜é‡è¦†ç›–é…ç½®ï¼š\nexport PIG_DATABASE_PORT=5433 export PIG_SERVICES_VSCODE_ENABLED=false export PIG_LOGGING_LEVEL=debug å¦è¯·å‚é˜… CLI å‚è€ƒ PostgreSQL é…ç½® ","categories":"","description":"","excerpt":"Piglet Run é…ç½®æ–‡ä»¶å‚è€ƒã€‚\næ¦‚è¿° Piglet Run ä½¿ç”¨ä½äº /etc/piglet/ çš„ YAML é…ç½®æ–‡ä»¶ã€‚\nä¸»é…ç½® æ–‡ä»¶ â€¦","ref":"/zh/docs/reference/config/","tags":"","title":"é…ç½®"},{"body":"Learn how to clone databases and environments in Piglet Run.\nOverview Cloning allows you to create exact copies of:\nDatabase: Clone a database for testing or development Environment: Clone the entire Piglet Run instance Schema Only: Clone structure without data Quick Clone Clone a database instantly:\npig clone db mydb mydb_copy Clone Database Full Clone pig clone db production development Schema Only pig clone db production development --schema-only Clone with Data Filter pig clone db production development --filter \"created_at \u003e '2024-01-01'\" Clone Environment Create Environment Clone pig clone env --name staging Clone to Remote Server pig clone env --target user@remote-server Clone from Snapshot pig clone snapshot snap-20240115 --name dev-clone Clone Options Option Description --schema-only Clone structure without data --no-owner Skip ownership information --no-privileges Skip privilege information --parallel N Use N parallel jobs Use Cases Development: Clone production for local development Testing: Create isolated test environments Analytics: Clone for reporting without impacting production Next Steps Learn about Snapshots Understand Backup ","categories":"","description":"","excerpt":"Learn how to clone databases and environments in Piglet Run.\nOverview â€¦","ref":"/docs/task/clone/","tags":"","title":"Clone"},{"body":"JuiceFS Shared Storage Piglet Run uses JuiceFS to provide a distributed filesystem backed by PostgreSQL.\nWhy JuiceFS? POSIX Compatible: Works like a normal filesystem Database-Backed: Data stored in PostgreSQL Snapshots: Point-in-time recovery support Multi-User: Share workspace across sessions How It Works â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Application Layer â”‚ â”‚ (VS Code, Jupyter, Claude Code, etc.) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ POSIX API â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ JuiceFS FUSE â”‚ â”‚ (Filesystem in Userspace) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â–¼ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Metadata â”‚ â”‚ Data Chunks â”‚ â”‚ (PostgreSQL) â”‚ â”‚ (PostgreSQL) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Features Feature Description Transparent Use like local filesystem Durable Data stored in database Concurrent Multiple users/agents access Snapshots Point-in-time recovery Next Steps Learn about Snapshots Understand Cloning ","categories":"","description":"","excerpt":"JuiceFS Shared Storage Piglet Run uses JuiceFS to provide a â€¦","ref":"/docs/concept/storage/","tags":"","title":"Storage"},{"body":"Tutorial documentation provides step-by-step guides to learn Piglet Run from scratch.\nLearning Path Follow these tutorials in order to get started:\nInstallation - Set up Piglet Run on your server Quick Start - Create your first project VS Code - Using the web-based VS Code Jupyter - Data analysis with Jupyter Claude Code - AI-assisted development Database - Working with PostgreSQL Topics Topic Description Install Install Piglet Run on a fresh server Quick Start Your first 5 minutes with Piglet Run VS Code Web-based VS Code tutorial Jupyter JupyterLab for data science Claude Code AI coding with Claude Database PostgreSQL basics Application Build and deploy an app ","categories":"","description":"Step-by-step guides to learn Piglet Run from scratch.","excerpt":"Step-by-step guides to learn Piglet Run from scratch.","ref":"/docs/tutorial/","tags":"","title":"Tutorial"},{"body":"VS Code Server configuration and details for Piglet Run.\nOverview Piglet Run includes a pre-configured VS Code Server (code-server) for browser-based development.\nAccess Default URL: http://\u003cip\u003e/code\nConfiguration File: /etc/piglet/vscode.yml\nvscode: enabled: true bind_addr: 127.0.0.1:8080 auth: password password: ${VSCODE_PASSWORD} cert: false # User data directory user_data_dir: /home/dba/.local/share/code-server # Extensions directory extensions_dir: /home/dba/.local/share/code-server/extensions Pre-installed Extensions Extension Description ms-python.python Python language support ms-toolsai.jupyter Jupyter notebook support rust-lang.rust-analyzer Rust language support golang.go Go language support dbaeumer.vscode-eslint JavaScript linting esbenp.prettier-vscode Code formatter mtxr.sqltools SQL tools Installing Extensions Via CLI code-server --install-extension ms-python.python Via Settings Open VS Code in browser Go to Extensions (Ctrl+Shift+X) Search and install extensions Settings Default settings location: /home/dba/.local/share/code-server/User/settings.json\n{ \"editor.fontSize\": 14, \"editor.tabSize\": 2, \"editor.formatOnSave\": true, \"terminal.integrated.defaultProfile.linux\": \"bash\", \"python.defaultInterpreterPath\": \"/usr/bin/python3\", \"files.autoSave\": \"afterDelay\" } Service Management # Start VS Code server pig start vscode # Stop VS Code server pig stop vscode # Restart VS Code server pig restart vscode # View logs pig logs vscode Keyboard Shortcuts Shortcut Action Ctrl+Shift+P Command palette Ctrl+P Quick open file Ctrl+Shift+E Explorer Ctrl+Shift+F Search Ctrl+`` Terminal Ctrl+Shift+G Git Troubleshooting Connection Issues # Check service status systemctl status code-server # Check port binding ss -tlnp | grep 8080 # View logs journalctl -u code-server -f Extension Issues # List installed extensions code-server --list-extensions # Reinstall extension code-server --uninstall-extension EXTENSION_ID code-server --install-extension EXTENSION_ID See Also VS Code Tutorial Configuration Reference ","categories":"","description":"","excerpt":"VS Code Server configuration and details for Piglet Run.\nOverview â€¦","ref":"/docs/reference/vscode/","tags":"","title":"VS Code Server"},{"body":"Piglet Run çš„ VS Code æœåŠ¡å™¨é…ç½®å’Œè¯¦æƒ…ã€‚\næ¦‚è¿° Piglet Run åŒ…å«é¢„é…ç½®çš„ VS Code æœåŠ¡å™¨ (code-server)ï¼Œç”¨äºåŸºäºæµè§ˆå™¨çš„å¼€å‘ã€‚\nè®¿é—® é»˜è®¤ URLï¼šhttp://\u003cip\u003e/code\né…ç½® æ–‡ä»¶ï¼š/etc/piglet/vscode.yml\nvscode: enabled: true bind_addr: 127.0.0.1:8080 auth: password password: ${VSCODE_PASSWORD} cert: false # ç”¨æˆ·æ•°æ®ç›®å½• user_data_dir: /home/dba/.local/share/code-server # æ‰©å±•ç›®å½• extensions_dir: /home/dba/.local/share/code-server/extensions é¢„è£…æ‰©å±• æ‰©å±• æè¿° ms-python.python Python è¯­è¨€æ”¯æŒ ms-toolsai.jupyter Jupyter ç¬”è®°æœ¬æ”¯æŒ rust-lang.rust-analyzer Rust è¯­è¨€æ”¯æŒ golang.go Go è¯­è¨€æ”¯æŒ dbaeumer.vscode-eslint JavaScript ä»£ç æ£€æŸ¥ esbenp.prettier-vscode ä»£ç æ ¼å¼åŒ– mtxr.sqltools SQL å·¥å…· å®‰è£…æ‰©å±• é€šè¿‡ CLI code-server --install-extension ms-python.python é€šè¿‡è®¾ç½® åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ VS Code è¿›å…¥æ‰©å±• (Ctrl+Shift+X) æœç´¢å¹¶å®‰è£…æ‰©å±• è®¾ç½® é»˜è®¤è®¾ç½®ä½ç½®ï¼š/home/dba/.local/share/code-server/User/settings.json\n{ \"editor.fontSize\": 14, \"editor.tabSize\": 2, \"editor.formatOnSave\": true, \"terminal.integrated.defaultProfile.linux\": \"bash\", \"python.defaultInterpreterPath\": \"/usr/bin/python3\", \"files.autoSave\": \"afterDelay\" } æœåŠ¡ç®¡ç† # å¯åŠ¨ VS Code æœåŠ¡å™¨ pig start vscode # åœæ­¢ VS Code æœåŠ¡å™¨ pig stop vscode # é‡å¯ VS Code æœåŠ¡å™¨ pig restart vscode # æŸ¥çœ‹æ—¥å¿— pig logs vscode å¿«æ·é”® å¿«æ·é”® æ“ä½œ Ctrl+Shift+P å‘½ä»¤é¢æ¿ Ctrl+P å¿«é€Ÿæ‰“å¼€æ–‡ä»¶ Ctrl+Shift+E èµ„æºç®¡ç†å™¨ Ctrl+Shift+F æœç´¢ Ctrl+`` ç»ˆç«¯ Ctrl+Shift+G Git æ•…éšœæ’é™¤ è¿æ¥é—®é¢˜ # æ£€æŸ¥æœåŠ¡çŠ¶æ€ systemctl status code-server # æ£€æŸ¥ç«¯å£ç»‘å®š ss -tlnp | grep 8080 # æŸ¥çœ‹æ—¥å¿— journalctl -u code-server -f æ‰©å±•é—®é¢˜ # åˆ—å‡ºå·²å®‰è£…æ‰©å±• code-server --list-extensions # é‡æ–°å®‰è£…æ‰©å±• code-server --uninstall-extension EXTENSION_ID code-server --install-extension EXTENSION_ID å¦è¯·å‚é˜… VS Code æ•™ç¨‹ é…ç½®å‚è€ƒ ","categories":"","description":"","excerpt":"Piglet Run çš„ VS Code æœåŠ¡å™¨é…ç½®å’Œè¯¦æƒ…ã€‚\næ¦‚è¿° Piglet Run åŒ…å«é¢„é…ç½®çš„ VS Code æœåŠ¡å™¨ â€¦","ref":"/zh/docs/reference/vscode/","tags":"","title":"VS Code æœåŠ¡å™¨"},{"body":"Web-based VS Code Learn to use the web-based VS Code server in Piglet Run.\nAccess Open your browser and navigate to:\nhttp://\u003cip\u003e/code Features The web VS Code includes:\nFull VS Code experience in browser Extensions support Integrated terminal Git integration Python, Go, Node.js support Getting Started 1. Open a Folder Click â€œOpen Folderâ€ and select /root/workspace.\n2. Install Extensions Recommended extensions:\nPython Pylance GitLens Database Client 3. Configure Settings Press Ctrl+, to open settings.\nTips Use Ctrl+Shift+P for command palette `Ctrl+`` for integrated terminal Ctrl+B to toggle sidebar Next Steps Try Jupyter Learn Claude Code ","categories":"","description":"","excerpt":"Web-based VS Code Learn to use the web-based VS Code server in Piglet â€¦","ref":"/docs/tutorial/vscode/","tags":"","title":"VS Code"},{"body":"ç½‘é¡µç‰ˆ VS Code å­¦ä¹ åœ¨ Piglet Run ä¸­ä½¿ç”¨ç½‘é¡µç‰ˆ VS Code æœåŠ¡å™¨ã€‚\nè®¿é—® æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š\nhttp://\u003cip\u003e/code åŠŸèƒ½ ç½‘é¡µç‰ˆ VS Code åŒ…å«ï¼š\nå®Œæ•´çš„æµè§ˆå™¨ä¸­ VS Code ä½“éªŒ æ‰©å±•æ”¯æŒ é›†æˆç»ˆç«¯ Git é›†æˆ Pythonã€Goã€Node.js æ”¯æŒ å¼€å§‹ä½¿ç”¨ 1. æ‰“å¼€æ–‡ä»¶å¤¹ ç‚¹å‡»\"æ‰“å¼€æ–‡ä»¶å¤¹\"ï¼Œé€‰æ‹© /root/workspaceã€‚\n2. å®‰è£…æ‰©å±• æ¨èæ‰©å±•ï¼š\nPython Pylance GitLens Database Client 3. é…ç½®è®¾ç½® æŒ‰ Ctrl+, æ‰“å¼€è®¾ç½®ã€‚\næŠ€å·§ ä½¿ç”¨ Ctrl+Shift+P æ‰“å¼€å‘½ä»¤é¢æ¿ `Ctrl+`` æ‰“å¼€é›†æˆç»ˆç«¯ Ctrl+B åˆ‡æ¢ä¾§è¾¹æ  ä¸‹ä¸€æ­¥ å°è¯• Jupyter å­¦ä¹  Claude Code ","categories":"","description":"","excerpt":"ç½‘é¡µç‰ˆ VS Code å­¦ä¹ åœ¨ Piglet Run ä¸­ä½¿ç”¨ç½‘é¡µç‰ˆ VS Code æœåŠ¡å™¨ã€‚\nè®¿é—® æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š â€¦","ref":"/zh/docs/tutorial/vscode/","tags":"","title":"VS Code"},{"body":"äº†è§£å¦‚ä½•åœ¨ Piglet Run ä¸­å…‹éš†æ•°æ®åº“å’Œç¯å¢ƒã€‚\næ¦‚è¿° å…‹éš†å…è®¸æ‚¨åˆ›å»ºä»¥ä¸‹å†…å®¹çš„ç²¾ç¡®å‰¯æœ¬ï¼š\næ•°æ®åº“ï¼šä¸ºæµ‹è¯•æˆ–å¼€å‘å…‹éš†æ•°æ®åº“ ç¯å¢ƒï¼šå…‹éš†æ•´ä¸ª Piglet Run å®ä¾‹ ä»…ç»“æ„ï¼šå…‹éš†ç»“æ„è€Œä¸åŒ…å«æ•°æ® å¿«é€Ÿå…‹éš† å³æ—¶å…‹éš†æ•°æ®åº“ï¼š\npig clone db mydb mydb_copy å…‹éš†æ•°æ®åº“ å®Œæ•´å…‹éš† pig clone db production development ä»…ç»“æ„ pig clone db production development --schema-only å¸¦æ•°æ®è¿‡æ»¤çš„å…‹éš† pig clone db production development --filter \"created_at \u003e '2024-01-01'\" å…‹éš†ç¯å¢ƒ åˆ›å»ºç¯å¢ƒå…‹éš† pig clone env --name staging å…‹éš†åˆ°è¿œç¨‹æœåŠ¡å™¨ pig clone env --target user@remote-server ä»å¿«ç…§å…‹éš† pig clone snapshot snap-20240115 --name dev-clone å…‹éš†é€‰é¡¹ é€‰é¡¹ æè¿° --schema-only ä»…å…‹éš†ç»“æ„ä¸å«æ•°æ® --no-owner è·³è¿‡æ‰€æœ‰æƒä¿¡æ¯ --no-privileges è·³è¿‡æƒé™ä¿¡æ¯ --parallel N ä½¿ç”¨ N ä¸ªå¹¶è¡Œä»»åŠ¡ ä½¿ç”¨åœºæ™¯ å¼€å‘ï¼šå…‹éš†ç”Ÿäº§ç¯å¢ƒç”¨äºæœ¬åœ°å¼€å‘ æµ‹è¯•ï¼šåˆ›å»ºéš”ç¦»çš„æµ‹è¯•ç¯å¢ƒ åˆ†æï¼šå…‹éš†ç”¨äºæŠ¥è¡¨è€Œä¸å½±å“ç”Ÿäº§ç¯å¢ƒ ä¸‹ä¸€æ­¥ äº†è§£å¿«ç…§ ç†è§£å¤‡ä»½ ","categories":"","description":"","excerpt":"äº†è§£å¦‚ä½•åœ¨ Piglet Run ä¸­å…‹éš†æ•°æ®åº“å’Œç¯å¢ƒã€‚\næ¦‚è¿° å…‹éš†å…è®¸æ‚¨åˆ›å»ºä»¥ä¸‹å†…å®¹çš„ç²¾ç¡®å‰¯æœ¬ï¼š\næ•°æ®åº“ï¼šä¸ºæµ‹è¯•æˆ–å¼€å‘å…‹éš†æ•°æ®åº“ ç¯å¢ƒï¼šå…‹éš† â€¦","ref":"/zh/docs/task/clone/","tags":"","title":"å…‹éš†"},{"body":"JuiceFS å…±äº«å­˜å‚¨ Piglet Run ä½¿ç”¨ JuiceFS æä¾›åŸºäº PostgreSQL çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚\nä¸ºä»€ä¹ˆé€‰æ‹© JuiceFSï¼Ÿ POSIX å…¼å®¹ï¼šåƒæ™®é€šæ–‡ä»¶ç³»ç»Ÿä¸€æ ·å·¥ä½œ æ•°æ®åº“åç«¯ï¼šæ•°æ®å­˜å‚¨åœ¨ PostgreSQL å¿«ç…§æ”¯æŒï¼šæ—¶é—´ç‚¹æ¢å¤ å¤šç”¨æˆ·ï¼šè·¨ä¼šè¯å…±äº«å·¥ä½œç©ºé—´ å·¥ä½œåŸç† â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ åº”ç”¨å±‚ â”‚ â”‚ (VS Code, Jupyter, Claude Code ç­‰) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ POSIX API â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ JuiceFS FUSE â”‚ â”‚ (ç”¨æˆ·ç©ºé—´æ–‡ä»¶ç³»ç»Ÿ) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚ â–¼ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ å…ƒæ•°æ® â”‚ â”‚ æ•°æ®å— â”‚ â”‚ (PostgreSQL) â”‚ â”‚ (PostgreSQL) â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ ç‰¹æ€§ ç‰¹æ€§ æè¿° é€æ˜ åƒæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸€æ ·ä½¿ç”¨ æŒä¹… æ•°æ®å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ å¹¶å‘ å¤šç”¨æˆ·/Agent åŒæ—¶è®¿é—® å¿«ç…§ æ—¶é—´ç‚¹æ¢å¤ ä¸‹ä¸€æ­¥ äº†è§£ å¿«ç…§ ç†è§£ å…‹éš† ","categories":"","description":"","excerpt":"JuiceFS å…±äº«å­˜å‚¨ Piglet Run ä½¿ç”¨ JuiceFS æä¾›åŸºäº PostgreSQL çš„åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚\nä¸ºä»€ä¹ˆé€‰æ‹© â€¦","ref":"/zh/docs/concept/storage/","tags":"","title":"å­˜å‚¨"},{"body":"æ•™ç¨‹æ–‡æ¡£æä¾›ä»é›¶å¼€å§‹å­¦ä¹  Piglet Run çš„åˆ†æ­¥æŒ‡å—ã€‚\nå­¦ä¹ è·¯å¾„ æŒ‰é¡ºåºå­¦ä¹ ä»¥ä¸‹æ•™ç¨‹ï¼š\nå®‰è£… - åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½² Piglet Run å¿«é€Ÿå¼€å§‹ - åˆ›å»ºä½ çš„ç¬¬ä¸€ä¸ªé¡¹ç›® VS Code - ä½¿ç”¨ç½‘é¡µç‰ˆ VS Code Jupyter - ä½¿ç”¨ Jupyter è¿›è¡Œæ•°æ®åˆ†æ Claude Code - AI è¾…åŠ©å¼€å‘ æ•°æ®åº“ - ä½¿ç”¨ PostgreSQL ä¸»é¢˜ ä¸»é¢˜ æè¿° å®‰è£… åœ¨å…¨æ–°æœåŠ¡å™¨ä¸Šå®‰è£… Piglet Run å¿«é€Ÿå¼€å§‹ Piglet Run çš„å‰ 5 åˆ†é’Ÿ VS Code ç½‘é¡µç‰ˆ VS Code æ•™ç¨‹ Jupyter æ•°æ®ç§‘å­¦çš„ JupyterLab Claude Code ä½¿ç”¨ Claude è¿›è¡Œ AI ç¼–ç  æ•°æ®åº“ PostgreSQL åŸºç¡€ åº”ç”¨ æ„å»ºå’Œéƒ¨ç½²åº”ç”¨ /Users/vonng/pgsty/piglet.run/static/img/logo/piglet.png\n","categories":"","description":"ä»é›¶å¼€å§‹å­¦ä¹  Piglet Run çš„åˆ†æ­¥æŒ‡å—ã€‚","excerpt":"ä»é›¶å¼€å§‹å­¦ä¹  Piglet Run çš„åˆ†æ­¥æŒ‡å—ã€‚","ref":"/zh/docs/tutorial/","tags":"","title":"æ•™ç¨‹"},{"body":"Learn how to deploy web applications on Piglet Run.\nOverview Piglet Run supports deploying various web applications:\nStatic Sites: HTML, CSS, JavaScript Node.js: Express, Next.js, React Python: Flask, Django, FastAPI PHP: Laravel, WordPress Quick Deploy Deploy a static site:\npig deploy ./my-site Deploy Static Site From Local Directory pig deploy ./dist --name my-site From Git Repository pig deploy https://github.com/user/repo --name my-site Deploy Node.js Application Basic Deployment cd my-node-app pig deploy --type nodejs With Custom Port pig deploy --type nodejs --port 3000 Configuration Create piglet.yml in your project:\ntype: nodejs entry: server.js port: 3000 env: NODE_ENV: production Deploy Python Application Flask Application pig deploy --type python --framework flask Django Application pig deploy --type python --framework django Deployment Management List Deployments pig deploy list View Logs pig deploy logs my-site Restart Application pig deploy restart my-site Remove Deployment pig deploy remove my-site Next Steps Configure SSL for HTTPS Set up Custom Domain ","categories":"","description":"","excerpt":"Learn how to deploy web applications on Piglet Run.\nOverview Piglet â€¦","ref":"/docs/task/deploy/","tags":"","title":"Deploy"},{"body":"JupyterLab Tutorial Learn to use JupyterLab for data analysis in Piglet Run.\nAccess Navigate to:\nhttp://\u003cip\u003e/jupyter Features Interactive Python notebooks Rich output (charts, tables, images) PostgreSQL integration Multiple kernels (Python, SQL) Getting Started 1. Create a Notebook Click â€œPython 3â€ under Notebook.\n2. Connect to PostgreSQL import psycopg import pandas as pd conn = psycopg.connect(\"postgres://postgres@localhost/postgres\") df = pd.read_sql(\"SELECT * FROM pg_stat_activity\", conn) df.head() 3. Visualize Data import matplotlib.pyplot as plt df['state'].value_counts().plot(kind='bar') plt.show() Tips Use Shift+Enter to run cells Save notebooks to /root/workspace/notebooks Next Steps Learn Claude Code Explore Database ","categories":"","description":"","excerpt":"JupyterLab Tutorial Learn to use JupyterLab for data analysis in â€¦","ref":"/docs/tutorial/jupyter/","tags":"","title":"Jupyter"},{"body":"JupyterLab æ•™ç¨‹ å­¦ä¹ åœ¨ Piglet Run ä¸­ä½¿ç”¨ JupyterLab è¿›è¡Œæ•°æ®åˆ†æã€‚\nè®¿é—® è®¿é—®ï¼š\nhttp://\u003cip\u003e/jupyter åŠŸèƒ½ äº¤äº’å¼ Python ç¬”è®°æœ¬ ä¸°å¯Œè¾“å‡ºï¼ˆå›¾è¡¨ã€è¡¨æ ¼ã€å›¾åƒï¼‰ PostgreSQL é›†æˆ å¤šå†…æ ¸ï¼ˆPythonã€SQLï¼‰ å¼€å§‹ä½¿ç”¨ 1. åˆ›å»ºç¬”è®°æœ¬ ç‚¹å‡» Notebook ä¸‹çš„\"Python 3\"ã€‚\n2. è¿æ¥ PostgreSQL import psycopg import pandas as pd conn = psycopg.connect(\"postgres://postgres@localhost/postgres\") df = pd.read_sql(\"SELECT * FROM pg_stat_activity\", conn) df.head() 3. æ•°æ®å¯è§†åŒ– import matplotlib.pyplot as plt df['state'].value_counts().plot(kind='bar') plt.show() æŠ€å·§ ä½¿ç”¨ Shift+Enter è¿è¡Œå•å…ƒæ ¼ å°†ç¬”è®°æœ¬ä¿å­˜åˆ° /root/workspace/notebooks ä¸‹ä¸€æ­¥ å­¦ä¹  Claude Code æ¢ç´¢ æ•°æ®åº“ ","categories":"","description":"","excerpt":"JupyterLab æ•™ç¨‹ å­¦ä¹ åœ¨ Piglet Run ä¸­ä½¿ç”¨ JupyterLab è¿›è¡Œæ•°æ®åˆ†æã€‚\nè®¿é—® è®¿é—®ï¼š â€¦","ref":"/zh/docs/tutorial/jupyter/","tags":"","title":"Jupyter"},{"body":"Time Machine Piglet Run provides point-in-time recovery for both database and filesystem.\nDatabase PITR PostgreSQLâ€™s built-in PITR (Point-in-Time Recovery) allows you to restore the database to any point in time. Managed by pgBackRest.\n# Show backup information pig pb info # List all backups pig pb ls # Create a full backup pig pb backup full # Restore to latest backup pig pb restore # Restore to specific time pig pb restore -t \"2025-01-29 10:00:00\" Filesystem Snapshots JuiceFS snapshots preserve the state of your workspace:\n# Create a snapshot (using juicefs CLI) juicefs snapshot create /jfs/data snapshot-before-experiment # List snapshots juicefs snapshot list /jfs/data # Restore from snapshot juicefs snapshot restore /jfs/data snapshot-before-experiment Use Cases Scenario Solution AI broke code Restore filesystem snapshot Bad database migration Use pig pb restore -t \u003ctime\u003e Experiment failed Roll back entire environment Need clean state Restore to baseline snapshot Backup Management # View backup status pig pb info # View backup logs pig pb log tail # Create incremental backup pig pb backup incr # Create differential backup pig pb backup diff Next Steps Learn about Cloning See Restore Task See Backup Task ","categories":"","description":"","excerpt":"Time Machine Piglet Run provides point-in-time recovery for both â€¦","ref":"/docs/concept/snapshot/","tags":"","title":"Snapshot"},{"body":"Task documentation provides goal-oriented guides for specific operations.\nHow to Use Each task guide focuses on accomplishing a specific goal:\nProblem-focused: Start with what you want to achieve Step-by-step: Clear instructions to follow Practical: Real-world scenarios Topics Topic Description Backup Backup database and files Restore Restore from backup or snapshot Clone Clone database or environment Deploy Deploy web application SSL Configure SSL certificates Domain Set up custom domain Scale Scale resources up or down Migrate Migrate data from other systems Monitor Set up alerts and monitoring Upgrade Upgrade Piglet Run ","categories":"","description":"Goal-oriented guides for specific operations like backup, restore, deploy.","excerpt":"Goal-oriented guides for specific operations like backup, restore, â€¦","ref":"/docs/task/","tags":"","title":"Task"},{"body":"ä»»åŠ¡æ–‡æ¡£æä¾›é¢å‘ç›®æ ‡çš„å…·ä½“æ“ä½œæŒ‡å—ã€‚\nå¦‚ä½•ä½¿ç”¨ æ¯ä¸ªä»»åŠ¡æŒ‡å—ä¸“æ³¨äºå®Œæˆä¸€ä¸ªå…·ä½“ç›®æ ‡ï¼š\né—®é¢˜å¯¼å‘ï¼šä»ä½ æƒ³è¦å®ç°çš„ç›®æ ‡å‡ºå‘ é€æ­¥æ“ä½œï¼šæ¸…æ™°çš„æ­¥éª¤è¯´æ˜ å®æˆ˜åœºæ™¯ï¼šçœŸå®ä¸–ç•Œçš„åº”ç”¨åœºæ™¯ ä¸»é¢˜ ä¸»é¢˜ æè¿° å¤‡ä»½ å¤‡ä»½æ•°æ®åº“å’Œæ–‡ä»¶ æ¢å¤ ä»å¤‡ä»½æˆ–å¿«ç…§æ¢å¤ å…‹éš† å…‹éš†æ•°æ®åº“æˆ–ç¯å¢ƒ éƒ¨ç½² éƒ¨ç½² Web åº”ç”¨ SSL é…ç½® SSL è¯ä¹¦ åŸŸå è®¾ç½®è‡ªå®šä¹‰åŸŸå æ‰©å®¹ æ‰©å±•æˆ–ç¼©å‡èµ„æº è¿ç§» ä»å…¶ä»–ç³»ç»Ÿè¿ç§»æ•°æ® ç›‘æ§ è®¾ç½®å‘Šè­¦å’Œç›‘æ§ å‡çº§ å‡çº§ Piglet Run ","categories":"","description":"é¢å‘ç›®æ ‡çš„æ“ä½œæŒ‡å—ï¼Œå¦‚å¤‡ä»½ã€æ¢å¤ã€éƒ¨ç½²ç­‰å…·ä½“ä»»åŠ¡ã€‚","excerpt":"é¢å‘ç›®æ ‡çš„æ“ä½œæŒ‡å—ï¼Œå¦‚å¤‡ä»½ã€æ¢å¤ã€éƒ¨ç½²ç­‰å…·ä½“ä»»åŠ¡ã€‚","ref":"/zh/docs/task/","tags":"","title":"ä»»åŠ¡"},{"body":"æ—¶å…‰æœºå™¨ Piglet Run ä¸ºæ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿéƒ½æä¾›æ—¶é—´ç‚¹æ¢å¤åŠŸèƒ½ã€‚\næ•°æ®åº“ PITR PostgreSQL å†…ç½®çš„ PITRï¼ˆæ—¶é—´ç‚¹æ¢å¤ï¼‰å…è®¸æ‚¨å°†æ•°æ®åº“æ¢å¤åˆ°ä»»æ„æ—¶é—´ç‚¹ã€‚ç”± pgBackRest ç®¡ç†ã€‚\n# æ˜¾ç¤ºå¤‡ä»½ä¿¡æ¯ pig pb info # åˆ—å‡ºæ‰€æœ‰å¤‡ä»½ pig pb ls # åˆ›å»ºå…¨é‡å¤‡ä»½ pig pb backup full # æ¢å¤åˆ°æœ€æ–°å¤‡ä»½ pig pb restore # æ¢å¤åˆ°æŒ‡å®šæ—¶é—´ pig pb restore -t \"2025-01-29 10:00:00\" æ–‡ä»¶ç³»ç»Ÿå¿«ç…§ JuiceFS å¿«ç…§ä¿å­˜å·¥ä½œåŒºçŠ¶æ€ï¼š\n# åˆ›å»ºå¿«ç…§ï¼ˆä½¿ç”¨ juicefs CLIï¼‰ juicefs snapshot create /jfs/data snapshot-before-experiment # åˆ—å‡ºå¿«ç…§ juicefs snapshot list /jfs/data # ä»å¿«ç…§æ¢å¤ juicefs snapshot restore /jfs/data snapshot-before-experiment ä½¿ç”¨åœºæ™¯ åœºæ™¯ è§£å†³æ–¹æ¡ˆ AI å†™åä»£ç  æ¢å¤æ–‡ä»¶ç³»ç»Ÿå¿«ç…§ æ•°æ®åº“è¿ç§»å¤±è´¥ ä½¿ç”¨ pig pb restore -t \u003ctime\u003e å®éªŒå¤±è´¥ å›æ»šæ•´ä¸ªç¯å¢ƒ éœ€è¦å¹²å‡€çŠ¶æ€ æ¢å¤åˆ°åŸºçº¿å¿«ç…§ å¤‡ä»½ç®¡ç† # æŸ¥çœ‹å¤‡ä»½çŠ¶æ€ pig pb info # æŸ¥çœ‹å¤‡ä»½æ—¥å¿— pig pb log tail # åˆ›å»ºå¢é‡å¤‡ä»½ pig pb backup incr # åˆ›å»ºå·®å¼‚å¤‡ä»½ pig pb backup diff ä¸‹ä¸€æ­¥ äº†è§£ å…‹éš† æŸ¥çœ‹ æ¢å¤ä»»åŠ¡ æŸ¥çœ‹ å¤‡ä»½ä»»åŠ¡ ","categories":"","description":"","excerpt":"æ—¶å…‰æœºå™¨ Piglet Run ä¸ºæ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿéƒ½æä¾›æ—¶é—´ç‚¹æ¢å¤åŠŸèƒ½ã€‚\næ•°æ®åº“ PITR PostgreSQL å†…ç½®çš„ PITRï¼ˆæ—¶é—´ç‚¹æ¢ â€¦","ref":"/zh/docs/concept/snapshot/","tags":"","title":"å¿«ç…§"},{"body":"äº†è§£å¦‚ä½•åœ¨ Piglet Run ä¸Šéƒ¨ç½² Web åº”ç”¨ã€‚\næ¦‚è¿° Piglet Run æ”¯æŒéƒ¨ç½²å¤šç§ Web åº”ç”¨ï¼š\né™æ€ç«™ç‚¹ï¼šHTMLã€CSSã€JavaScript Node.jsï¼šExpressã€Next.jsã€React Pythonï¼šFlaskã€Djangoã€FastAPI PHPï¼šLaravelã€WordPress å¿«é€Ÿéƒ¨ç½² éƒ¨ç½²é™æ€ç«™ç‚¹ï¼š\npig deploy ./my-site éƒ¨ç½²é™æ€ç«™ç‚¹ ä»æœ¬åœ°ç›®å½• pig deploy ./dist --name my-site ä» Git ä»“åº“ pig deploy https://github.com/user/repo --name my-site éƒ¨ç½² Node.js åº”ç”¨ åŸºæœ¬éƒ¨ç½² cd my-node-app pig deploy --type nodejs è‡ªå®šä¹‰ç«¯å£ pig deploy --type nodejs --port 3000 é…ç½® åœ¨é¡¹ç›®ä¸­åˆ›å»º piglet.ymlï¼š\ntype: nodejs entry: server.js port: 3000 env: NODE_ENV: production éƒ¨ç½² Python åº”ç”¨ Flask åº”ç”¨ pig deploy --type python --framework flask Django åº”ç”¨ pig deploy --type python --framework django éƒ¨ç½²ç®¡ç† åˆ—å‡ºéƒ¨ç½² pig deploy list æŸ¥çœ‹æ—¥å¿— pig deploy logs my-site é‡å¯åº”ç”¨ pig deploy restart my-site ç§»é™¤éƒ¨ç½² pig deploy remove my-site ä¸‹ä¸€æ­¥ é…ç½® SSL å¯ç”¨ HTTPS è®¾ç½®è‡ªå®šä¹‰åŸŸå ","categories":"","description":"","excerpt":"äº†è§£å¦‚ä½•åœ¨ Piglet Run ä¸Šéƒ¨ç½² Web åº”ç”¨ã€‚\næ¦‚è¿° Piglet Run æ”¯æŒéƒ¨ç½²å¤šç§ Web åº”ç”¨ï¼š\né™æ€ç«™ç‚¹ â€¦","ref":"/zh/docs/task/deploy/","tags":"","title":"éƒ¨ç½²"},{"body":"AI-Assisted Development Learn to use Claude Code for AI-assisted development in Piglet Run.\nPrerequisites You need an Anthropic API key. Set it up:\nexport ANTHROPIC_API_KEY=\"your-api-key\" Getting Started 1. Launch Claude Code In VS Code terminal:\nclaude 2. Give Instructions Ask Claude to help with your project:\n\u003e Create a FastAPI app with PostgreSQL integration 3. Review and Accept Claude will:\nAnalyze your request Generate code Explain the changes Wait for your approval Best Practices Practice Reason Create snapshots Roll back if needed Review changes Verify before accepting Be specific Better results Iterate Refine step by step Safety Piglet Run makes AI coding safer:\nSnapshots: Restore any time Monitoring: Track AI activity Isolation: Sandboxed environment Monitoring View Claude Code activity at:\nhttp://\u003cip\u003e/ui/d/claude-code Next Steps Explore Database Build an Application ","categories":"","description":"","excerpt":"AI-Assisted Development Learn to use Claude Code for AI-assisted â€¦","ref":"/docs/tutorial/claude/","tags":"","title":"Claude Code"},{"body":"ä»€ä¹ˆæ˜¯ Claude Code Claude Code æ˜¯ Anthropic å®˜æ–¹çš„ AI ç¼–ç¨‹åŠ©æ‰‹ã€‚å®ƒèƒ½ï¼š\nç†è§£ä½ çš„ä»£ç åº“ æ ¹æ®è‡ªç„¶è¯­è¨€æŒ‡ä»¤ç¼–å†™ä»£ç  æ‰§è¡Œå‘½ä»¤ã€åˆ›å»ºæ–‡ä»¶ã€ä¿®æ”¹ä»£ç  ç›´æ¥æ“ä½œä½ çš„ Piglet ç¯å¢ƒ åœ¨ Piglet ä¸­ï¼ŒClaude Code å¼€ç®±èƒ½ç”¨â€”â€”ç¯å¢ƒå·²ç»é¢„é…ç½®å¥½äº† CLAUDE.mdï¼Œå‘Šè¯‰ AI è¿™é‡Œæœ‰ä»€ä¹ˆå·¥å…·å¯ä»¥ç”¨ã€‚\nè·å– API Key ç¬¬ä¸€æ­¥ï¼šæ³¨å†Œ Anthropic è´¦å· è®¿é—® console.anthropic.com æ³¨å†Œè´¦å·ã€‚\nç¬¬äºŒæ­¥ï¼šåˆ›å»º API Key ç™»å½•åè¿›å…¥ API Keys é¡µé¢ ç‚¹å‡» Create Key å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ï¼ˆä»¥ sk-ant- å¼€å¤´ï¼‰ æ³¨æ„ï¼šAPI Key åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·å¦¥å–„ä¿å­˜ã€‚\nç¬¬ä¸‰æ­¥ï¼šå……å€¼ Claude Code æŒ‰ token è®¡è´¹ã€‚å»ºè®®å…ˆå……å€¼ $5-10 è¯•ç”¨ã€‚\né…ç½®æ–¹å¼ æ–¹å¼ Aï¼šæœ¬åœ° Claude Code è¿æ¥è¿œç¨‹æœåŠ¡å™¨ï¼ˆæ¨èï¼‰ è¿™æ˜¯æœ€æµç•…çš„ä½“éªŒâ€”â€”åœ¨æœ¬åœ°ç»ˆç«¯è¿è¡Œ Claude Codeï¼Œä½†å®ƒæ“ä½œçš„æ˜¯è¿œç¨‹ Piglet æœåŠ¡å™¨ã€‚\n1. åœ¨æœ¬åœ°å®‰è£… Claude Code\n# macOS / Linux npm install -g @anthropic-ai/claude-code # æˆ–ä½¿ç”¨ Homebrew brew install claude-code 2. é…ç½® API Key\nclaude config set apiKey sk-ant-your-api-key-here 3. è¿æ¥åˆ° Piglet æœåŠ¡å™¨\nclaude connect ssh root@ä½ çš„æœåŠ¡å™¨IP ç°åœ¨ä½ å¯ä»¥ç›´æ¥å¯¹è¯ï¼š\n\u003e å¸®æˆ‘çœ‹çœ‹è¿™ä¸ªæœåŠ¡å™¨ä¸Šæœ‰ä»€ä¹ˆ \u003e åœ¨ ~/data ä¸‹åˆ›å»ºä¸€ä¸ª Flask é¡¹ç›® \u003e å†™ä¸€ä¸ªçˆ¬è™«ï¼ŒæŠ“å– Hacker News é¦–é¡µæ ‡é¢˜ï¼Œå­˜åˆ° PostgreSQL æ–¹å¼ Bï¼šåœ¨æœåŠ¡å™¨ä¸Šç›´æ¥è¿è¡Œ å¦‚æœä½ é€šè¿‡ç½‘é¡µç‰ˆ VS Code æˆ– SSH ç™»å½•åˆ°æœåŠ¡å™¨ï¼š\n1. é…ç½®ç¯å¢ƒå˜é‡\n# ä¸´æ—¶ç”Ÿæ•ˆ export ANTHROPIC_API_KEY=\"sk-ant-your-api-key-here\" # æ°¸ä¹…ç”Ÿæ•ˆï¼ˆå†™å…¥ .bashrcï¼‰ echo 'export ANTHROPIC_API_KEY=\"sk-ant-your-api-key-here\"' \u003e\u003e ~/.bashrc source ~/.bashrc 2. å¯åŠ¨ Claude Code\nclaude æ–¹å¼ Cï¼šVS Code æ‰©å±•ï¼ˆå¯é€‰ï¼‰ å¦‚æœä½ ç”¨æœ¬åœ° VS Code + Remote SSHï¼š\nå®‰è£… Claude æ‰©å±• åœ¨è®¾ç½®ä¸­é…ç½® API Key æŒ‰ Cmd+Shift+P è¾“å…¥ Claude ä½¿ç”¨ CLAUDE.mdï¼šå‘Šè¯‰ AI ç¯å¢ƒé‡Œæœ‰ä»€ä¹ˆ Piglet åœ¨ ~/CLAUDE.md é¢„ç½®äº†ä¸€ä»½ç¯å¢ƒè¯´æ˜æ–‡ä»¶ã€‚Claude Code ä¼šè‡ªåŠ¨è¯»å–å®ƒï¼Œäº†è§£ï¼š\nè¿™æ˜¯ä¸€ä¸ª Piglet ç¯å¢ƒ PostgreSQL æ•°æ®åº“è¿æ¥æ–¹å¼ å¯ç”¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼ˆpigã€psql ç­‰ï¼‰ æ–‡ä»¶ç³»ç»Ÿç»“æ„ éƒ¨ç½²æ–¹å¼ ä½ å¯ä»¥ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ï¼Œæ·»åŠ é¡¹ç›®ç‰¹å®šçš„è¯´æ˜ï¼š\nvim ~/CLAUDE.md ä¾‹å¦‚ï¼š\n## é¡¹ç›®è¯´æ˜ è¿™æ˜¯ä¸€ä¸ªç”µå•†ç½‘ç«™é¡¹ç›®ï¼Œä½¿ç”¨ï¼š - åç«¯ï¼šFastAPI - æ•°æ®åº“ï¼šPostgreSQLï¼ˆå·²é…ç½®ï¼‰ - å‰ç«¯ï¼šReactï¼ˆåœ¨ /www/shop-frontendï¼‰ ## æ•°æ®åº“ç»“æ„ - users è¡¨ï¼šç”¨æˆ·ä¿¡æ¯ - products è¡¨ï¼šå•†å“ä¿¡æ¯ - orders è¡¨ï¼šè®¢å•ä¿¡æ¯ ## éƒ¨ç½²å‘½ä»¤ pig deploy ./dist --name shop ä½¿ç”¨ç¤ºä¾‹ åˆ›å»ºé¡¹ç›® \u003e åœ¨ ~/data/blog åˆ›å»ºä¸€ä¸ª Flask åšå®¢åº”ç”¨ï¼Œå¸¦æ–‡ç« çš„å¢åˆ æ”¹æŸ¥ï¼Œä½¿ç”¨ PostgreSQL å­˜å‚¨ è°ƒè¯•é—®é¢˜ \u003e çœ‹çœ‹ PostgreSQL çš„æ—¥å¿—ï¼Œæœ€è¿‘æœ‰ä»€ä¹ˆé”™è¯¯å— \u003e è¿™ä¸ª Python è„šæœ¬æŠ¥é”™äº†ï¼Œå¸®æˆ‘ä¿®ä¸€ä¸‹ éƒ¨ç½²åº”ç”¨ \u003e æŠŠ ~/data/blog éƒ¨ç½²åˆ° /www/blogï¼Œé…ç½® Nginx åå‘ä»£ç† æ•°æ®åº“æ“ä½œ \u003e å¸®æˆ‘åˆ›å»ºä¸€ä¸ª users è¡¨ï¼ŒåŒ…å« idã€nameã€emailã€created_at å­—æ®µ \u003e ç»™æˆ‘å†™ä¸€ä¸ª SQL æŸ¥è¯¢ï¼Œç»Ÿè®¡è¿‡å» 7 å¤©æ¯å¤©çš„æ³¨å†Œç”¨æˆ·æ•° ç›‘æ§è¯Šæ–­ \u003e ç»™æˆ‘ç”Ÿæˆä¸€ä»½æœåŠ¡å™¨å·¡æ£€æŠ¥å‘Š \u003e çœ‹çœ‹ç£ç›˜ç©ºé—´å’Œå†…å­˜ä½¿ç”¨æƒ…å†µ æç ¸äº†ä¹Ÿä¸æ€• è¿™æ˜¯ Piglet çš„æ ¸å¿ƒä»·å€¼ä¹‹ä¸€ï¼šCode Fearlesslyã€‚\nå¦‚æœ Claude æç ¸äº†ä»€ä¹ˆï¼š\n# æŸ¥çœ‹æœ€è¿‘çš„æ–‡ä»¶ç³»ç»Ÿå¿«ç…§ pig snapshot list # å›æ»šåˆ°æŸä¸ªæ—¶é—´ç‚¹ pig snapshot restore --time \"2024-01-15 14:30:00\" æ•°æ®åº“ä¹Ÿä¸€æ ·ï¼š\n# æ•°æ®åº“æ—¶é—´æ—…è¡Œ pig pg pitr --time \"2024-01-15 14:30:00\" æ‰€ä»¥æ”¾å¿ƒå¤§èƒ†åœ°è®© Claude å»å°è¯•ã€‚\næœ€ä½³å®è·µ åšæ³• è¯´æ˜ è¯´æ¸…æ¥šä½ è¦ä»€ä¹ˆ â€œåšä¸€ä¸ªç½‘é¡µ\"ä¸å¦‚\"åšä¸€ä¸ªå±•ç¤ºå¤©æ°”çš„ç½‘é¡µï¼Œç”¨ ECharts ç”»æ¸©åº¦æ›²çº¿â€ ç»™ä¸Šä¸‹æ–‡ å‘Šè¯‰å®ƒé¡¹ç›®èƒŒæ™¯ã€æŠ€æœ¯æ ˆã€çº¦æŸæ¡ä»¶ åˆ†æ­¥è¿­ä»£ å…ˆåšæ ¸å¿ƒåŠŸèƒ½ï¼Œå†é€æ­¥å®Œå–„ å®¡æŸ¥ä»£ç  Claude ä¼šå…ˆå±•ç¤ºè®¡åˆ’ï¼Œç¡®è®¤åå†æ‰§è¡Œ ç”¨ CLAUDE.md æŠŠé¡¹ç›®è¯´æ˜å†™è¿›å»ï¼ŒClaude ä¼šè‡ªåŠ¨å‚è€ƒ è´¹ç”¨å‚è€ƒ Claude Code ä½¿ç”¨ Claude Sonnet æ¨¡å‹ï¼ŒæŒ‰ token è®¡è´¹ï¼š\næ“ä½œ å¤§çº¦æ¶ˆè€— å‚è€ƒè´¹ç”¨ ç®€å•å¯¹è¯ ~1K tokens \u003c $0.01 ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶ ~5K tokens ~$0.02 å¤æ‚é¡¹ç›®è®¨è®º ~20K tokens ~$0.10 æ—¥å¸¸ä½¿ç”¨ï¼Œ$5-10 å¯ä»¥ç”¨å¾ˆä¹…ã€‚\næ•…éšœæ’é™¤ é—®é¢˜ è§£å†³æ–¹æ¡ˆ API key invalid æ£€æŸ¥ key æ˜¯å¦æ­£ç¡®ï¼Œæ˜¯å¦æœ‰ä½™é¢ è¿æ¥è¶…æ—¶ æ£€æŸ¥ç½‘ç»œï¼Œå›½å†…å¯èƒ½éœ€è¦ä»£ç† æƒé™ä¸è¶³ ç¡®ä¿ç”¨ root æˆ–æœ‰ sudo æƒé™çš„ç”¨æˆ· Claude ä¸äº†è§£ç¯å¢ƒ æ£€æŸ¥ ~/CLAUDE.md æ˜¯å¦å­˜åœ¨ ä¸‹ä¸€æ­¥ å¿«é€Ÿå¼€å§‹æ•™ç¨‹ - ç”¨ Claude åšä½ çš„ç¬¬ä¸€ä¸ªç½‘é¡µ ç¬¬ä¸€ä¸ª Web åº”ç”¨ - åšä¸€ä¸ªå¸¦æ•°æ®åº“çš„åº”ç”¨ ç¾éš¾æ¢å¤ - ä½“éªŒæ—¶é—´æ—…è¡Œ ","categories":"","description":"é…ç½® Claude Code è¿›è¡Œ AI è¾…åŠ©ç¼–ç¨‹","excerpt":"é…ç½® Claude Code è¿›è¡Œ AI è¾…åŠ©ç¼–ç¨‹","ref":"/zh/docs/tutorial/claude/","tags":"","title":"Claude Code é…ç½®"},{"body":"Instant Cloning Piglet Run supports Copy-on-Write (CoW) cloning for rapid database forking.\nHow It Works Copy-on-Write means:\nZero copy at clone time Only changed blocks consume storage TB-scale databases clone in milliseconds Original Database â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Block A â”‚ Block B â”‚ Block C â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â–¼ â–¼ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Shared Storage â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â–² â–² â–² â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â” â”‚ Block A â”‚ Block B â”‚ Block C â”‚ (shared) â”‚ â”‚ Block B'â”‚ â”‚ (changed in clone) â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ Cloned Database Use Cases Use Case Benefit Development Clone prod for testing AI Experiments Branch for each experiment Feature Branches Database per branch Training Each learner gets own copy Database Cloning Using PostgreSQL utilities:\n# Create database from template pig pg psql -c \"CREATE DATABASE dev TEMPLATE prod\" # Or using pg_dump/pg_restore for cross-server clone pg_dump -Fc prod \u003e prod.dump pg_restore -d dev prod.dump Using pgBackRest for Cloning # Restore to a new cluster as a clone pig pb restore --target-pgdata=/data/pg-clone # Or restore to specific time point pig pb restore -t \"2025-01-29 10:00:00\" --target-pgdata=/data/pg-clone Filesystem Cloning with JuiceFS # Clone directory using JuiceFS snapshot juicefs snapshot create /jfs/workspace ws-snapshot juicefs snapshot restore /jfs/workspace-clone ws-snapshot Next Steps See Clone Task Learn about Snapshots ","categories":"","description":"","excerpt":"Instant Cloning Piglet Run supports Copy-on-Write (CoW) cloning for â€¦","ref":"/docs/concept/clone/","tags":"","title":"Clone"},{"body":"Learn how to configure SSL certificates for secure HTTPS connections.\nOverview Piglet Run supports multiple SSL certificate options:\nLetâ€™s Encrypt: Free automatic certificates Self-Signed: For development and testing Custom: Bring your own certificates Quick SSL Setup Enable SSL with Letâ€™s Encrypt:\npig ssl enable --domain example.com Letâ€™s Encrypt Certificates Enable for Domain pig ssl letsencrypt --domain example.com --email admin@example.com Multiple Domains pig ssl letsencrypt --domain example.com --domain www.example.com Wildcard Certificate pig ssl letsencrypt --domain \"*.example.com\" --dns cloudflare Self-Signed Certificates Generate Self-Signed pig ssl self-signed --domain localhost For Development pig ssl self-signed --domain dev.local --days 365 Custom Certificates Install Custom Certificate pig ssl install --cert /path/to/cert.pem --key /path/to/key.pem With Certificate Chain pig ssl install \\ --cert /path/to/cert.pem \\ --key /path/to/key.pem \\ --chain /path/to/chain.pem Certificate Management View Certificates pig ssl list Check Expiration pig ssl status Renew Certificates pig ssl renew Configuration SSL settings in /etc/piglet/ssl.yml:\nssl: provider: letsencrypt email: admin@example.com auto_renew: true renew_days: 30 Next Steps Set up Custom Domain Learn about Security ","categories":"","description":"","excerpt":"Learn how to configure SSL certificates for secure HTTPS connections. â€¦","ref":"/docs/task/ssl/","tags":"","title":"SSL"},{"body":"äº†è§£å¦‚ä½•é…ç½® SSL è¯ä¹¦ä»¥å¯ç”¨å®‰å…¨çš„ HTTPS è¿æ¥ã€‚\næ¦‚è¿° Piglet Run æ”¯æŒå¤šç§ SSL è¯ä¹¦é€‰é¡¹ï¼š\nLetâ€™s Encryptï¼šå…è´¹è‡ªåŠ¨è¯ä¹¦ è‡ªç­¾åï¼šç”¨äºå¼€å‘å’Œæµ‹è¯• è‡ªå®šä¹‰ï¼šä½¿ç”¨æ‚¨è‡ªå·±çš„è¯ä¹¦ å¿«é€Ÿè®¾ç½® ä½¿ç”¨ Letâ€™s Encrypt å¯ç”¨ SSLï¼š\npig ssl enable --domain example.com Letâ€™s Encrypt è¯ä¹¦ ä¸ºåŸŸåå¯ç”¨ pig ssl letsencrypt --domain example.com --email admin@example.com å¤šä¸ªåŸŸå pig ssl letsencrypt --domain example.com --domain www.example.com é€šé…ç¬¦è¯ä¹¦ pig ssl letsencrypt --domain \"*.example.com\" --dns cloudflare è‡ªç­¾åè¯ä¹¦ ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ pig ssl self-signed --domain localhost ç”¨äºå¼€å‘ pig ssl self-signed --domain dev.local --days 365 è‡ªå®šä¹‰è¯ä¹¦ å®‰è£…è‡ªå®šä¹‰è¯ä¹¦ pig ssl install --cert /path/to/cert.pem --key /path/to/key.pem åŒ…å«è¯ä¹¦é“¾ pig ssl install \\ --cert /path/to/cert.pem \\ --key /path/to/key.pem \\ --chain /path/to/chain.pem è¯ä¹¦ç®¡ç† æŸ¥çœ‹è¯ä¹¦ pig ssl list æ£€æŸ¥è¿‡æœŸæ—¶é—´ pig ssl status ç»­æœŸè¯ä¹¦ pig ssl renew é…ç½® /etc/piglet/ssl.yml ä¸­çš„ SSL è®¾ç½®ï¼š\nssl: provider: letsencrypt email: admin@example.com auto_renew: true renew_days: 30 ä¸‹ä¸€æ­¥ è®¾ç½®è‡ªå®šä¹‰åŸŸå äº†è§£å®‰å…¨ ","categories":"","description":"","excerpt":"äº†è§£å¦‚ä½•é…ç½® SSL è¯ä¹¦ä»¥å¯ç”¨å®‰å…¨çš„ HTTPS è¿æ¥ã€‚\næ¦‚è¿° Piglet Run æ”¯æŒå¤šç§ SSL è¯ä¹¦é€‰é¡¹ï¼š\nLetâ€™s â€¦","ref":"/zh/docs/task/ssl/","tags":"","title":"SSL"},{"body":"ç¬é—´å…‹éš† Piglet Run æ”¯æŒ Copy-on-Writeï¼ˆå†™æ—¶å¤åˆ¶ï¼‰å…‹éš†ï¼Œå®ç°å¿«é€Ÿæ•°æ®åº“åˆ†æ”¯ã€‚\nå·¥ä½œåŸç† Copy-on-Write æ„å‘³ç€ï¼š\nå…‹éš†æ—¶é›¶æ‹·è´ åªæœ‰ä¿®æ”¹çš„å—æ‰æ¶ˆè€—å­˜å‚¨ TB çº§æ•°æ®åº“æ¯«ç§’çº§å…‹éš† åŸå§‹æ•°æ®åº“ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ Block A â”‚ Block B â”‚ Block C â”‚ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚ â”‚ â”‚ â–¼ â–¼ â–¼ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ å…±äº«å­˜å‚¨ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â–² â–² â–² â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”´â”€â”€â”€â”€â” â”‚ Block A â”‚ Block B â”‚ Block C â”‚ (å…±äº«) â”‚ â”‚ Block B'â”‚ â”‚ (å…‹éš†ä¸­ä¿®æ”¹) â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ å…‹éš†æ•°æ®åº“ ä½¿ç”¨åœºæ™¯ åœºæ™¯ ä¼˜åŠ¿ å¼€å‘ å…‹éš†ç”Ÿäº§ç¯å¢ƒç”¨äºæµ‹è¯• AI å®éªŒ æ¯ä¸ªå®éªŒä¸€ä¸ªåˆ†æ”¯ åŠŸèƒ½åˆ†æ”¯ æ¯ä¸ªåˆ†æ”¯ä¸€ä¸ªæ•°æ®åº“ åŸ¹è®­ æ¯ä¸ªå­¦å‘˜ä¸€ä»½å‰¯æœ¬ æ•°æ®åº“å…‹éš† ä½¿ç”¨ PostgreSQL å·¥å…·ï¼š\n# ä»æ¨¡æ¿åˆ›å»ºæ•°æ®åº“ pig pg psql -c \"CREATE DATABASE dev TEMPLATE prod\" # æˆ–ä½¿ç”¨ pg_dump/pg_restore è·¨æœåŠ¡å™¨å…‹éš† pg_dump -Fc prod \u003e prod.dump pg_restore -d dev prod.dump ä½¿ç”¨ pgBackRest å…‹éš† # æ¢å¤åˆ°æ–°é›†ç¾¤ä½œä¸ºå…‹éš† pig pb restore --target-pgdata=/data/pg-clone # æˆ–æ¢å¤åˆ°ç‰¹å®šæ—¶é—´ç‚¹ pig pb restore -t \"2025-01-29 10:00:00\" --target-pgdata=/data/pg-clone ä½¿ç”¨ JuiceFS å…‹éš†æ–‡ä»¶ç³»ç»Ÿ # ä½¿ç”¨ JuiceFS å¿«ç…§å…‹éš†ç›®å½• juicefs snapshot create /jfs/workspace ws-snapshot juicefs snapshot restore /jfs/workspace-clone ws-snapshot ä¸‹ä¸€æ­¥ æŸ¥çœ‹ å…‹éš†ä»»åŠ¡ äº†è§£ å¿«ç…§ ","categories":"","description":"","excerpt":"ç¬é—´å…‹éš† Piglet Run æ”¯æŒ Copy-on-Writeï¼ˆå†™æ—¶å¤åˆ¶ï¼‰å…‹éš†ï¼Œå®ç°å¿«é€Ÿæ•°æ®åº“åˆ†æ”¯ã€‚\nå·¥ä½œåŸç† Copy-on-Write â€¦","ref":"/zh/docs/concept/clone/","tags":"","title":"å…‹éš†"},{"body":"PostgreSQL Basics Learn to work with PostgreSQL in Piglet Run.\nConnect Using psql psql postgres://postgres@localhost/postgres Using Python import psycopg conn = psycopg.connect(\"postgres://postgres@localhost/postgres\") Create Database CREATE DATABASE myapp; Install Extensions PostgreSQL 18 with 400+ extensions available:\n-- Vector search CREATE EXTENSION vector; -- Time series CREATE EXTENSION timescaledb; -- Full text search (Chinese) CREATE EXTENSION zhparser; Basic Operations -- Create table CREATE TABLE users ( id SERIAL PRIMARY KEY, name TEXT NOT NULL, email TEXT UNIQUE, created_at TIMESTAMPTZ DEFAULT NOW() ); -- Insert data INSERT INTO users (name, email) VALUES ('Alice', 'alice@example.com'); -- Query SELECT * FROM users; Monitoring View database performance at:\nhttp://\u003cip\u003e/ui/d/pgsql-overview Next Steps Build an Application Learn about Backup ","categories":"","description":"","excerpt":"PostgreSQL Basics Learn to work with PostgreSQL in Piglet Run.\nConnect â€¦","ref":"/docs/tutorial/database/","tags":"","title":"Database"},{"body":"Learn how to set up custom domains for your Piglet Run services.\nOverview Configure custom domains for:\nMain Application: Your primary domain Subdomains: Service-specific subdomains Multiple Domains: Support multiple domains Quick Setup Add a custom domain:\npig domain add example.com DNS Configuration Required DNS Records Point your domain to Piglet Run:\nType Name Value A @ Your server IP A www Your server IP CNAME code @ CNAME jupyter @ Using Cloudflare pig domain add example.com --dns cloudflare --api-key YOUR_API_KEY Add Custom Domain Primary Domain pig domain add example.com --primary Subdomain for Services pig domain add code.example.com --service vscode pig domain add jupyter.example.com --service jupyter Domain Management List Domains pig domain list Remove Domain pig domain remove old-domain.com Set Primary pig domain primary example.com Configuration Domain settings in /etc/piglet/domains.yml:\ndomains: primary: example.com aliases: - www.example.com services: vscode: code.example.com jupyter: jupyter.example.com grafana: monitor.example.com Verify Domain Check domain configuration:\npig domain verify example.com Next Steps Configure SSL for HTTPS Learn about Nginx Configuration ","categories":"","description":"","excerpt":"Learn how to set up custom domains for your Piglet Run services. â€¦","ref":"/docs/task/domain/","tags":"","title":"Domain"},{"body":"Full Observability Piglet Run includes a complete monitoring stack based on VictoriaMetrics and Grafana.\nComponents Component Role VictoriaMetrics Time-series database Grafana Visualization dashboards node_exporter System metrics pg_exporter PostgreSQL metrics Dashboards Access Grafana at http://\u003cip\u003e/ui\nAvailable dashboards:\nClaude Code: AI agent monitoring PostgreSQL: Database performance System: Host metrics JuiceFS: Filesystem statistics Metrics Over 3000+ metrics collected:\nDatabase queries, connections, locks System CPU, memory, disk, network Application-specific metrics Alerts Configure alerts for:\nHigh CPU/memory usage Database connection limits Disk space warnings Query performance issues Next Steps See Monitor Task Learn about Grafana Reference ","categories":"","description":"","excerpt":"Full Observability Piglet Run includes a complete monitoring stack â€¦","ref":"/docs/concept/monitor/","tags":"","title":"Monitoring"},{"body":"Nginx web server configuration for Piglet Run.\nOverview Piglet Run uses Nginx as a reverse proxy and web server for all services.\nConfiguration Main config: /etc/nginx/nginx.conf\nSite configs: /etc/nginx/conf.d/\nDefault Configuration File: /etc/nginx/conf.d/piglet.conf\n# Piglet Run Nginx Configuration upstream vscode { server 127.0.0.1:8080; } upstream jupyter { server 127.0.0.1:8888; } upstream grafana { server 127.0.0.1:3000; } server { listen 80; server_name _; # Homepage location / { root /www/piglet; index index.html; } # VS Code Server location /code { proxy_pass http://vscode; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \"upgrade\"; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } # JupyterLab location /jupyter { proxy_pass http://jupyter; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \"upgrade\"; proxy_set_header Host $host; } # Grafana location /ui { proxy_pass http://grafana; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } } SSL Configuration File: /etc/nginx/conf.d/piglet-ssl.conf\nserver { listen 443 ssl http2; server_name example.com; ssl_certificate /etc/piglet/ssl/cert.pem; ssl_certificate_key /etc/piglet/ssl/key.pem; ssl_protocols TLSv1.2 TLSv1.3; ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256; ssl_prefer_server_ciphers off; # ... location blocks ... } # Redirect HTTP to HTTPS server { listen 80; server_name example.com; return 301 https://$server_name$request_uri; } Service Management # Start Nginx pig start nginx # Stop Nginx pig stop nginx # Restart Nginx pig restart nginx # Reload configuration pig reload nginx # Test configuration nginx -t Custom Site Configuration Create custom site config:\ncat \u003e /etc/nginx/conf.d/mysite.conf \u003c\u003c 'EOF' server { listen 80; server_name mysite.example.com; root /www/mysite; index index.html; location / { try_files $uri $uri/ =404; } } EOF nginx -t \u0026\u0026 systemctl reload nginx Proxy Configuration WebSocket Support location /ws { proxy_pass http://backend; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \"upgrade\"; proxy_read_timeout 86400; } Node.js Application location /app { proxy_pass http://127.0.0.1:3001; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; } Logging Access log: /var/log/nginx/access.log\nError log: /var/log/nginx/error.log\nlog_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" \"$http_x_forwarded_for\"'; access_log /var/log/nginx/access.log main; Rate Limiting limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s; location /api { limit_req zone=api burst=20 nodelay; proxy_pass http://backend; } Troubleshooting # Test configuration nginx -t # Check error log tail -f /var/log/nginx/error.log # Check access log tail -f /var/log/nginx/access.log # View connections ss -tlnp | grep nginx See Also SSL Configuration Domain Setup Deploy Applications ","categories":"","description":"","excerpt":"Nginx web server configuration for Piglet Run.\nOverview Piglet Run â€¦","ref":"/docs/reference/nginx/","tags":"","title":"Nginx"},{"body":"Piglet Run çš„ Nginx Web æœåŠ¡å™¨é…ç½®ã€‚\næ¦‚è¿° Piglet Run ä½¿ç”¨ Nginx ä½œä¸ºæ‰€æœ‰æœåŠ¡çš„åå‘ä»£ç†å’Œ Web æœåŠ¡å™¨ã€‚\né…ç½® ä¸»é…ç½®ï¼š/etc/nginx/nginx.conf\nç«™ç‚¹é…ç½®ï¼š/etc/nginx/conf.d/\né»˜è®¤é…ç½® æ–‡ä»¶ï¼š/etc/nginx/conf.d/piglet.conf\n# Piglet Run Nginx é…ç½® upstream vscode { server 127.0.0.1:8080; } upstream jupyter { server 127.0.0.1:8888; } upstream grafana { server 127.0.0.1:3000; } server { listen 80; server_name _; # ä¸»é¡µ location / { root /www/piglet; index index.html; } # VS Code æœåŠ¡å™¨ location /code { proxy_pass http://vscode; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \"upgrade\"; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } # JupyterLab location /jupyter { proxy_pass http://jupyter; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \"upgrade\"; proxy_set_header Host $host; } # Grafana location /ui { proxy_pass http://grafana; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; } } SSL é…ç½® æ–‡ä»¶ï¼š/etc/nginx/conf.d/piglet-ssl.conf\nserver { listen 443 ssl http2; server_name example.com; ssl_certificate /etc/piglet/ssl/cert.pem; ssl_certificate_key /etc/piglet/ssl/key.pem; ssl_protocols TLSv1.2 TLSv1.3; ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256; ssl_prefer_server_ciphers off; # ... location å— ... } # HTTP é‡å®šå‘åˆ° HTTPS server { listen 80; server_name example.com; return 301 https://$server_name$request_uri; } æœåŠ¡ç®¡ç† # å¯åŠ¨ Nginx pig start nginx # åœæ­¢ Nginx pig stop nginx # é‡å¯ Nginx pig restart nginx # é‡è½½é…ç½® pig reload nginx # æµ‹è¯•é…ç½® nginx -t è‡ªå®šä¹‰ç«™ç‚¹é…ç½® åˆ›å»ºè‡ªå®šä¹‰ç«™ç‚¹é…ç½®ï¼š\ncat \u003e /etc/nginx/conf.d/mysite.conf \u003c\u003c 'EOF' server { listen 80; server_name mysite.example.com; root /www/mysite; index index.html; location / { try_files $uri $uri/ =404; } } EOF nginx -t \u0026\u0026 systemctl reload nginx ä»£ç†é…ç½® WebSocket æ”¯æŒ location /ws { proxy_pass http://backend; proxy_http_version 1.1; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \"upgrade\"; proxy_read_timeout 86400; } Node.js åº”ç”¨ location /app { proxy_pass http://127.0.0.1:3001; proxy_set_header Host $host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header X-Forwarded-Proto $scheme; } æ—¥å¿— è®¿é—®æ—¥å¿—ï¼š/var/log/nginx/access.log\né”™è¯¯æ—¥å¿—ï¼š/var/log/nginx/error.log\nlog_format main '$remote_addr - $remote_user [$time_local] \"$request\" ' '$status $body_bytes_sent \"$http_referer\" ' '\"$http_user_agent\" \"$http_x_forwarded_for\"'; access_log /var/log/nginx/access.log main; é€Ÿç‡é™åˆ¶ limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s; location /api { limit_req zone=api burst=20 nodelay; proxy_pass http://backend; } æ•…éšœæ’é™¤ # æµ‹è¯•é…ç½® nginx -t # æ£€æŸ¥é”™è¯¯æ—¥å¿— tail -f /var/log/nginx/error.log # æ£€æŸ¥è®¿é—®æ—¥å¿— tail -f /var/log/nginx/access.log # æŸ¥çœ‹è¿æ¥ ss -tlnp | grep nginx å¦è¯·å‚é˜… SSL é…ç½® åŸŸåè®¾ç½® éƒ¨ç½²åº”ç”¨ ","categories":"","description":"","excerpt":"Piglet Run çš„ Nginx Web æœåŠ¡å™¨é…ç½®ã€‚\næ¦‚è¿° Piglet Run ä½¿ç”¨ Nginx ä½œä¸ºæ‰€æœ‰æœåŠ¡çš„åå‘ä»£ç†å’Œ Web â€¦","ref":"/zh/docs/reference/nginx/","tags":"","title":"Nginx"},{"body":"äº†è§£å¦‚ä½•ä¸º Piglet Run æœåŠ¡è®¾ç½®è‡ªå®šä¹‰åŸŸåã€‚\næ¦‚è¿° ä¸ºä»¥ä¸‹å†…å®¹é…ç½®è‡ªå®šä¹‰åŸŸåï¼š\nä¸»åº”ç”¨ï¼šæ‚¨çš„ä¸»åŸŸå å­åŸŸåï¼šæœåŠ¡ä¸“ç”¨å­åŸŸå å¤šåŸŸåï¼šæ”¯æŒå¤šä¸ªåŸŸå å¿«é€Ÿè®¾ç½® æ·»åŠ è‡ªå®šä¹‰åŸŸåï¼š\npig domain add example.com DNS é…ç½® æ‰€éœ€ DNS è®°å½• å°†æ‚¨çš„åŸŸåæŒ‡å‘ Piglet Runï¼š\nç±»å‹ åç§° å€¼ A @ æ‚¨çš„æœåŠ¡å™¨ IP A www æ‚¨çš„æœåŠ¡å™¨ IP CNAME code @ CNAME jupyter @ ä½¿ç”¨ Cloudflare pig domain add example.com --dns cloudflare --api-key YOUR_API_KEY æ·»åŠ è‡ªå®šä¹‰åŸŸå ä¸»åŸŸå pig domain add example.com --primary æœåŠ¡å­åŸŸå pig domain add code.example.com --service vscode pig domain add jupyter.example.com --service jupyter åŸŸåç®¡ç† åˆ—å‡ºåŸŸå pig domain list ç§»é™¤åŸŸå pig domain remove old-domain.com è®¾ç½®ä¸»åŸŸå pig domain primary example.com é…ç½® /etc/piglet/domains.yml ä¸­çš„åŸŸåè®¾ç½®ï¼š\ndomains: primary: example.com aliases: - www.example.com services: vscode: code.example.com jupyter: jupyter.example.com grafana: monitor.example.com éªŒè¯åŸŸå æ£€æŸ¥åŸŸåé…ç½®ï¼š\npig domain verify example.com ä¸‹ä¸€æ­¥ é…ç½® SSL å¯ç”¨ HTTPS äº†è§£ Nginx é…ç½® ","categories":"","description":"","excerpt":"äº†è§£å¦‚ä½•ä¸º Piglet Run æœåŠ¡è®¾ç½®è‡ªå®šä¹‰åŸŸåã€‚\næ¦‚è¿° ä¸ºä»¥ä¸‹å†…å®¹é…ç½®è‡ªå®šä¹‰åŸŸåï¼š\nä¸»åº”ç”¨ï¼šæ‚¨çš„ä¸»åŸŸå å­åŸŸåï¼šæœåŠ¡ä¸“ç”¨å­åŸŸå å¤šåŸŸå â€¦","ref":"/zh/docs/task/domain/","tags":"","title":"åŸŸå"},{"body":"PostgreSQL åŸºç¡€ å­¦ä¹ åœ¨ Piglet Run ä¸­ä½¿ç”¨ PostgreSQLã€‚\nè¿æ¥ ä½¿ç”¨ psql psql postgres://postgres@localhost/postgres ä½¿ç”¨ Python import psycopg conn = psycopg.connect(\"postgres://postgres@localhost/postgres\") åˆ›å»ºæ•°æ®åº“ CREATE DATABASE myapp; å®‰è£…æ‰©å±• PostgreSQL 18 æœ‰ 400+ æ‰©å±•å¯ç”¨ï¼š\n-- å‘é‡æœç´¢ CREATE EXTENSION vector; -- æ—¶åºæ•°æ® CREATE EXTENSION timescaledb; -- å…¨æ–‡æœç´¢ï¼ˆä¸­æ–‡ï¼‰ CREATE EXTENSION zhparser; åŸºæœ¬æ“ä½œ -- åˆ›å»ºè¡¨ CREATE TABLE users ( id SERIAL PRIMARY KEY, name TEXT NOT NULL, email TEXT UNIQUE, created_at TIMESTAMPTZ DEFAULT NOW() ); -- æ’å…¥æ•°æ® INSERT INTO users (name, email) VALUES ('Alice', 'alice@example.com'); -- æŸ¥è¯¢ SELECT * FROM users; ç›‘æ§ åœ¨ä»¥ä¸‹ä½ç½®æŸ¥çœ‹æ•°æ®åº“æ€§èƒ½ï¼š\nhttp://\u003cip\u003e/ui/d/pgsql-overview ä¸‹ä¸€æ­¥ æ„å»º åº”ç”¨ äº†è§£ å¤‡ä»½ ","categories":"","description":"","excerpt":"PostgreSQL åŸºç¡€ å­¦ä¹ åœ¨ Piglet Run ä¸­ä½¿ç”¨ PostgreSQLã€‚\nè¿æ¥ ä½¿ç”¨ psql psql â€¦","ref":"/zh/docs/tutorial/database/","tags":"","title":"æ•°æ®åº“"},{"body":"å…¨æ ˆå¯è§‚æµ‹æ€§ Piglet Run åŒ…å«åŸºäº VictoriaMetrics å’Œ Grafana çš„å®Œæ•´ç›‘æ§æ ˆã€‚\nç»„ä»¶ ç»„ä»¶ è§’è‰² VictoriaMetrics æ—¶åºæ•°æ®åº“ Grafana å¯è§†åŒ–ä»ªè¡¨ç›˜ node_exporter ç³»ç»ŸæŒ‡æ ‡ pg_exporter PostgreSQL æŒ‡æ ‡ ä»ªè¡¨ç›˜ è®¿é—® Grafanaï¼šhttp://\u003cip\u003e/ui\nå¯ç”¨ä»ªè¡¨ç›˜ï¼š\nClaude Codeï¼šAI Agent ç›‘æ§ PostgreSQLï¼šæ•°æ®åº“æ€§èƒ½ Systemï¼šä¸»æœºæŒ‡æ ‡ JuiceFSï¼šæ–‡ä»¶ç³»ç»Ÿç»Ÿè®¡ æŒ‡æ ‡ æ”¶é›†è¶…è¿‡ 3000+ æŒ‡æ ‡ï¼š\næ•°æ®åº“æŸ¥è¯¢ã€è¿æ¥ã€é” ç³»ç»Ÿ CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œ åº”ç”¨ç‰¹å®šæŒ‡æ ‡ å‘Šè­¦ é…ç½®å‘Šè­¦ç”¨äºï¼š\né«˜ CPU/å†…å­˜ä½¿ç”¨ æ•°æ®åº“è¿æ¥é™åˆ¶ ç£ç›˜ç©ºé—´è­¦å‘Š æŸ¥è¯¢æ€§èƒ½é—®é¢˜ ä¸‹ä¸€æ­¥ æŸ¥çœ‹ ç›‘æ§ä»»åŠ¡ äº†è§£ Grafana å‚è€ƒ ","categories":"","description":"","excerpt":"å…¨æ ˆå¯è§‚æµ‹æ€§ Piglet Run åŒ…å«åŸºäº VictoriaMetrics å’Œ Grafana çš„å®Œæ•´ç›‘æ§æ ˆã€‚\nç»„ä»¶ ç»„ä»¶ è§’è‰² â€¦","ref":"/zh/docs/concept/monitor/","tags":"","title":"ç›‘æ§"},{"body":"Build and Deploy Learn to build and deploy a web application in Piglet Run.\nCreate a FastAPI App 1. Set Up Project cd ~/workspace mkdir myapp \u0026\u0026 cd myapp python -m venv venv source venv/bin/activate pip install fastapi uvicorn psycopg[binary] 2. Create Application Create main.py:\nfrom fastapi import FastAPI import psycopg app = FastAPI() @app.get(\"/\") def root(): return {\"message\": \"Hello from Piglet Run!\"} @app.get(\"/users\") def get_users(): conn = psycopg.connect(\"postgres://postgres@localhost/postgres\") cur = conn.execute(\"SELECT * FROM users\") return cur.fetchall() if __name__ == \"__main__\": import uvicorn uvicorn.run(app, host=\"0.0.0.0\", port=8000) 3. Run Locally python main.py 4. Deploy with Nginx See Deploy Task for production deployment.\nNext Steps Learn to Deploy Set up SSL ","categories":"","description":"","excerpt":"Build and Deploy Learn to build and deploy a web application in Piglet â€¦","ref":"/docs/tutorial/application/","tags":"","title":"Application"},{"body":"Learn how to scale your Piglet Run resources up or down.\nOverview Piglet Run supports scaling:\nDatabase: Adjust PostgreSQL resources Storage: Expand disk capacity Services: Scale service resources Quick Scale Scale database resources:\npig scale db --cpu 4 --memory 8G Scale Database Increase Resources pig scale db --cpu 4 --memory 16G Adjust Connection Limits pig scale db --max-connections 200 Configure Shared Buffers pig scale db --shared-buffers 4G Scale Storage Expand Disk pig scale storage --size 100G Add Storage Volume pig scale storage add --mount /data/extra --size 50G Scale Services VS Code Server pig scale service vscode --memory 4G JupyterLab pig scale service jupyter --memory 8G Resource Limits View current resource allocation:\npig scale status Example output:\nService CPU Memory Storage --------- ---- ------ ------- PostgreSQL 2 4G 20G VS Code 1 2G - Jupyter 1 2G - Nginx 0.5 512M - Configuration Scale settings in /etc/piglet/resources.yml:\nresources: postgres: cpu: 2 memory: 4G storage: 20G vscode: cpu: 1 memory: 2G jupyter: cpu: 1 memory: 2G Best Practices Monitor resource usage before scaling Scale gradually to avoid disruption Test changes in development first Next Steps Set up Monitoring Learn about Architecture ","categories":"","description":"","excerpt":"Learn how to scale your Piglet Run resources up or down.\nOverview â€¦","ref":"/docs/task/scale/","tags":"","title":"Scale"},{"body":"Security Model Piglet Run provides multiple layers of security for your development environment.\nAccess Control Layer Mechanism Network Firewall, VPN support Web Nginx authentication Database PostgreSQL roles Filesystem Unix permissions Authentication Default authentication methods:\nVS Code: Password or token Jupyter: Token-based Grafana: Username/password PostgreSQL: Role-based access Encryption Type Support In Transit SSL/TLS At Rest Database encryption Backup Encrypted backups Best Practices Change default passwords immediately Enable SSL for all services Restrict network access Regular security updates Next Steps Configure SSL Set up Domain ","categories":"","description":"","excerpt":"Security Model Piglet Run provides multiple layers of security for â€¦","ref":"/docs/concept/security/","tags":"","title":"Security"},{"body":"ç›®æ ‡ è¿™ä¸ªæ•™ç¨‹ä¼šå¸¦ä½ åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ Web åº”ç”¨ï¼š\nFlask åç«¯æ¡†æ¶ PostgreSQL æ•°æ®åº“å­˜å‚¨ç”¨æˆ· ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æ³¨é”€åŠŸèƒ½ Session ç®¡ç† éƒ¨ç½²ä¸Šçº¿ å®Œæˆåï¼Œä½ ä¼šæœ‰ä¸€ä¸ªçœŸæ­£å¯ç”¨çš„ Web åº”ç”¨ï¼Œä¸åªæ˜¯ Hello Worldã€‚\nå‰ç½®æ¡ä»¶ å·²å®Œæˆ å¿«é€Ÿå¼€å§‹æ•™ç¨‹ å·²ç™»å½• Piglet ç¯å¢ƒï¼ˆVS Code æˆ– SSHï¼‰ ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºé¡¹ç›® cd ~/data mkdir my-flask-app cd my-flask-app åˆ›å»º Python è™šæ‹Ÿç¯å¢ƒå¹¶å®‰è£…ä¾èµ–ï¼š\npython3 -m venv venv source venv/bin/activate pip install flask psycopg[binary] python-dotenv ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ•°æ®åº“è¡¨ è¿æ¥ PostgreSQLï¼š\npsql postgres://postgres:piglet@localhost/postgres åˆ›å»ºç”¨æˆ·è¡¨ï¼š\nCREATE TABLE users ( id SERIAL PRIMARY KEY, username VARCHAR(50) UNIQUE NOT NULL, password_hash VARCHAR(255) NOT NULL, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ); -- é€€å‡º psql \\q ç¬¬ä¸‰æ­¥ï¼šç¼–å†™åº”ç”¨ä»£ç  åˆ›å»º app.pyï¼š\nimport os import hashlib from flask import Flask, render_template, request, redirect, url_for, session, flash import psycopg app = Flask(__name__) app.secret_key = os.urandom(24) # æ•°æ®åº“è¿æ¥ DB_URL = \"postgres://postgres:piglet@localhost/postgres\" def get_db(): return psycopg.connect(DB_URL) def hash_password(password): return hashlib.sha256(password.encode()).hexdigest() # é¦–é¡µ @app.route('/') def index(): user = session.get('user') return render_template('index.html', user=user) # æ³¨å†Œ @app.route('/register', methods=['GET', 'POST']) def register(): if request.method == 'POST': username = request.form['username'] password = request.form['password'] with get_db() as conn: with conn.cursor() as cur: # æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨ cur.execute(\"SELECT id FROM users WHERE username = %s\", (username,)) if cur.fetchone(): flash('ç”¨æˆ·åå·²å­˜åœ¨', 'error') return redirect(url_for('register')) # åˆ›å»ºç”¨æˆ· cur.execute( \"INSERT INTO users (username, password_hash) VALUES (%s, %s)\", (username, hash_password(password)) ) conn.commit() flash('æ³¨å†ŒæˆåŠŸï¼Œè¯·ç™»å½•', 'success') return redirect(url_for('login')) return render_template('register.html') # ç™»å½• @app.route('/login', methods=['GET', 'POST']) def login(): if request.method == 'POST': username = request.form['username'] password = request.form['password'] with get_db() as conn: with conn.cursor() as cur: cur.execute( \"SELECT id, username FROM users WHERE username = %s AND password_hash = %s\", (username, hash_password(password)) ) user = cur.fetchone() if user: session['user'] = {'id': user[0], 'username': user[1]} flash(f'æ¬¢è¿å›æ¥ï¼Œ{user[1]}ï¼', 'success') return redirect(url_for('index')) else: flash('ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯', 'error') return render_template('login.html') # æ³¨é”€ @app.route('/logout') def logout(): session.pop('user', None) flash('å·²é€€å‡ºç™»å½•', 'success') return redirect(url_for('index')) if __name__ == '__main__': app.run(host='0.0.0.0', port=5000, debug=True) ç¬¬å››æ­¥ï¼šåˆ›å»ºæ¨¡æ¿ åˆ›å»ºæ¨¡æ¿ç›®å½•ï¼š\nmkdir templates åˆ›å»º templates/base.htmlï¼ˆåŸºç¡€æ¨¡æ¿ï¼‰ï¼š\n\u003c!DOCTYPE html\u003e \u003chtml lang=\"zh\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003cmeta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"\u003e \u003ctitle\u003e{% block title %}æˆ‘çš„åº”ç”¨{% endblock %}\u003c/title\u003e \u003cstyle\u003e * { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; min-height: 100vh; } .navbar { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; } .navbar a { color: white; text-decoration: none; margin-left: 1rem; } .navbar a:hover { text-decoration: underline; } .logo { color: white; font-size: 1.5rem; font-weight: bold; } .container { max-width: 600px; margin: 2rem auto; padding: 0 1rem; } .card { background: white; border-radius: 8px; padding: 2rem; box-shadow: 0 2px 10px rgba(0,0,0,0.1); } .flash { padding: 1rem; border-radius: 4px; margin-bottom: 1rem; } .flash.success { background: #d4edda; color: #155724; } .flash.error { background: #f8d7da; color: #721c24; } input { width: 100%; padding: 0.75rem; margin: 0.5rem 0 1rem; border: 1px solid #ddd; border-radius: 4px; font-size: 1rem; } button { width: 100%; padding: 0.75rem; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 4px; font-size: 1rem; cursor: pointer; } button:hover { opacity: 0.9; } h1, h2 { margin-bottom: 1rem; } p { color: #666; line-height: 1.6; } a { color: #667eea; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cnav class=\"navbar\"\u003e \u003cspan class=\"logo\"\u003eMyApp\u003c/span\u003e \u003cdiv\u003e \u003ca href=\"{{ url_for('index') }}\"\u003eé¦–é¡µ\u003c/a\u003e {% if session.user %} \u003ca href=\"{{ url_for('logout') }}\"\u003eé€€å‡º ({{ session.user.username }})\u003c/a\u003e {% else %} \u003ca href=\"{{ url_for('login') }}\"\u003eç™»å½•\u003c/a\u003e \u003ca href=\"{{ url_for('register') }}\"\u003eæ³¨å†Œ\u003c/a\u003e {% endif %} \u003c/div\u003e \u003c/nav\u003e \u003cdiv class=\"container\"\u003e {% with messages = get_flashed_messages(with_categories=true) %} {% for category, message in messages %} \u003cdiv class=\"flash {{ category }}\"\u003e{{ message }}\u003c/div\u003e {% endfor %} {% endwith %} {% block content %}{% endblock %} \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e åˆ›å»º templates/index.htmlï¼š\n{% extends \"base.html\" %} {% block title %}é¦–é¡µ{% endblock %} {% block content %} \u003cdiv class=\"card\"\u003e {% if user %} \u003ch1\u003eæ¬¢è¿ï¼Œ{{ user.username }}ï¼\u003c/h1\u003e \u003cp\u003eä½ å·²æˆåŠŸç™»å½•ã€‚è¿™æ˜¯ä¸€ä¸ªç”± Piglet é©±åŠ¨çš„ Flask åº”ç”¨ã€‚\u003c/p\u003e \u003cp style=\"margin-top: 1rem;\"\u003e \u003ca href=\"{{ url_for('logout') }}\"\u003eé€€å‡ºç™»å½•\u003c/a\u003e \u003c/p\u003e {% else %} \u003ch1\u003eæ¬¢è¿æ¥åˆ° MyApp\u003c/h1\u003e \u003cp\u003eè¿™æ˜¯ä¸€ä¸ªç”± Piglet é©±åŠ¨çš„ Flask åº”ç”¨ï¼Œä½¿ç”¨ PostgreSQL å­˜å‚¨ç”¨æˆ·æ•°æ®ã€‚\u003c/p\u003e \u003cp style=\"margin-top: 1rem;\"\u003e \u003ca href=\"{{ url_for('login') }}\"\u003eç™»å½•\u003c/a\u003e æˆ– \u003ca href=\"{{ url_for('register') }}\"\u003eæ³¨å†Œ\u003c/a\u003e å¼€å§‹ä½¿ç”¨ \u003c/p\u003e {% endif %} \u003c/div\u003e {% endblock %} åˆ›å»º templates/login.htmlï¼š\n{% extends \"base.html\" %} {% block title %}ç™»å½•{% endblock %} {% block content %} \u003cdiv class=\"card\"\u003e \u003ch2\u003eç™»å½•\u003c/h2\u003e \u003cform method=\"POST\"\u003e \u003clabel\u003eç”¨æˆ·å\u003c/label\u003e \u003cinput type=\"text\" name=\"username\" required\u003e \u003clabel\u003eå¯†ç \u003c/label\u003e \u003cinput type=\"password\" name=\"password\" required\u003e \u003cbutton type=\"submit\"\u003eç™»å½•\u003c/button\u003e \u003c/form\u003e \u003cp style=\"margin-top: 1rem; text-align: center;\"\u003e è¿˜æ²¡æœ‰è´¦å·ï¼Ÿ\u003ca href=\"{{ url_for('register') }}\"\u003eæ³¨å†Œ\u003c/a\u003e \u003c/p\u003e \u003c/div\u003e {% endblock %} åˆ›å»º templates/register.htmlï¼š\n{% extends \"base.html\" %} {% block title %}æ³¨å†Œ{% endblock %} {% block content %} \u003cdiv class=\"card\"\u003e \u003ch2\u003eæ³¨å†Œ\u003c/h2\u003e \u003cform method=\"POST\"\u003e \u003clabel\u003eç”¨æˆ·å\u003c/label\u003e \u003cinput type=\"text\" name=\"username\" required\u003e \u003clabel\u003eå¯†ç \u003c/label\u003e \u003cinput type=\"password\" name=\"password\" required\u003e \u003cbutton type=\"submit\"\u003eæ³¨å†Œ\u003c/button\u003e \u003c/form\u003e \u003cp style=\"margin-top: 1rem; text-align: center;\"\u003e å·²æœ‰è´¦å·ï¼Ÿ\u003ca href=\"{{ url_for('login') }}\"\u003eç™»å½•\u003c/a\u003e \u003c/p\u003e \u003c/div\u003e {% endblock %} ç¬¬äº”æ­¥ï¼šè¿è¡Œæµ‹è¯• python app.py è®¿é—® http://ä½ çš„æœåŠ¡å™¨IP:5000ï¼Œè¯•è¯•ï¼š\nç‚¹å‡»\"æ³¨å†Œ\"ï¼Œåˆ›å»ºä¸€ä¸ªè´¦å· ç”¨åˆšæ‰çš„è´¦å·ç™»å½• çœ‹åˆ°æ¬¢è¿é¡µé¢ ç‚¹å‡»\"é€€å‡º\" ç¬¬å…­æ­¥ï¼šéƒ¨ç½²ä¸Šçº¿ å¼€å‘å®Œæˆåï¼Œç”¨ Gunicorn éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼š\n# å®‰è£… Gunicorn pip install gunicorn # åˆ›å»º systemd æœåŠ¡ sudo tee /etc/systemd/system/myapp.service \u003c\u003c EOF [Unit] Description=My Flask App After=network.target [Service] User=root WorkingDirectory=/root/data/my-flask-app Environment=\"PATH=/root/data/my-flask-app/venv/bin\" ExecStart=/root/data/my-flask-app/venv/bin/gunicorn -w 2 -b 127.0.0.1:5000 app:app Restart=always [Install] WantedBy=multi-user.target EOF # å¯åŠ¨æœåŠ¡ sudo systemctl daemon-reload sudo systemctl enable myapp sudo systemctl start myapp é…ç½® Nginx åå‘ä»£ç†ï¼š\nsudo tee /etc/nginx/conf.d/myapp.conf \u003c\u003c EOF server { listen 80; server_name myapp.ä½ çš„åŸŸå.com; location / { proxy_pass http://127.0.0.1:5000; proxy_set_header Host \\$host; proxy_set_header X-Real-IP \\$remote_addr; } } EOF sudo nginx -t \u0026\u0026 sudo systemctl reload nginx è®© Claude å¸®ä½ åš ä¸Šé¢çš„æ­¥éª¤çœ‹èµ·æ¥å¾ˆå¤šï¼Ÿè¯•è¯•è®© Claude Code æ¥åšï¼š\nå¸®æˆ‘åœ¨ ~/data/my-flask-app åˆ›å»ºä¸€ä¸ª Flask åº”ç”¨ï¼š - ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æ³¨é”€åŠŸèƒ½ - ä½¿ç”¨ PostgreSQL å­˜å‚¨ç”¨æˆ·ï¼ˆè¿æ¥ä¸²ï¼špostgres://postgres:piglet@localhost/postgresï¼‰ - ç•Œé¢è¦å¥½çœ‹ - å¸®æˆ‘åˆ›å»ºæ•°æ®åº“è¡¨ - æœ€åå¸®æˆ‘éƒ¨ç½²åˆ° Nginx Claude ä¼šè‡ªåŠ¨å®Œæˆæ‰€æœ‰æ­¥éª¤ã€‚\nä½ å­¦åˆ°äº†ä»€ä¹ˆ âœ… åˆ›å»º Flask åº”ç”¨ âœ… è¿æ¥ PostgreSQL æ•°æ®åº“ âœ… å®ç°ç”¨æˆ·è®¤è¯ï¼ˆæ³¨å†Œ/ç™»å½•/æ³¨é”€ï¼‰ âœ… ä½¿ç”¨ Jinja2 æ¨¡æ¿ âœ… éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ ä¸‹ä¸€æ­¥ æ•°æ®åº”ç”¨ - å†™çˆ¬è™«ï¼Œæ”¶é›†æ•°æ®å­˜å…¥ PostgreSQL ç›‘æ§å¯è§†åŒ– - ç”¨ Grafana å±•ç¤ºæ•°æ® ç¾éš¾æ¢å¤ - PITR æ—¶é—´æ—…è¡Œï¼Œæç ¸äº†ä¹Ÿä¸æ€• ","categories":"","description":"åšä¸€ä¸ªå¸¦ç™»å½•åŠŸèƒ½çš„ Flask åº”ç”¨ï¼Œè¿æ¥ PostgreSQL","excerpt":"åšä¸€ä¸ªå¸¦ç™»å½•åŠŸèƒ½çš„ Flask åº”ç”¨ï¼Œè¿æ¥ PostgreSQL","ref":"/zh/docs/tutorial/application/","tags":"","title":"ç¬¬ä¸€ä¸ª Web åº”ç”¨"},{"body":"å®‰å…¨æ¨¡å‹ Piglet Run ä¸ºå¼€å‘ç¯å¢ƒæä¾›å¤šå±‚å®‰å…¨ä¿æŠ¤ã€‚\nè®¿é—®æ§åˆ¶ å±‚çº§ æœºåˆ¶ ç½‘ç»œ é˜²ç«å¢™ã€VPN æ”¯æŒ Web Nginx è®¤è¯ æ•°æ®åº“ PostgreSQL è§’è‰² æ–‡ä»¶ç³»ç»Ÿ Unix æƒé™ è®¤è¯ é»˜è®¤è®¤è¯æ–¹å¼ï¼š\nVS Codeï¼šå¯†ç æˆ–ä»¤ç‰Œ Jupyterï¼šåŸºäºä»¤ç‰Œ Grafanaï¼šç”¨æˆ·å/å¯†ç  PostgreSQLï¼šåŸºäºè§’è‰²è®¿é—® åŠ å¯† ç±»å‹ æ”¯æŒ ä¼ è¾“ä¸­ SSL/TLS é™æ€ æ•°æ®åº“åŠ å¯† å¤‡ä»½ åŠ å¯†å¤‡ä»½ æœ€ä½³å®è·µ ç«‹å³æ›´æ”¹é»˜è®¤å¯†ç  ä¸ºæ‰€æœ‰æœåŠ¡å¯ç”¨ SSL é™åˆ¶ç½‘ç»œè®¿é—® å®šæœŸå®‰å…¨æ›´æ–° ä¸‹ä¸€æ­¥ é…ç½® SSL è®¾ç½® åŸŸå ","categories":"","description":"","excerpt":"å®‰å…¨æ¨¡å‹ Piglet Run ä¸ºå¼€å‘ç¯å¢ƒæä¾›å¤šå±‚å®‰å…¨ä¿æŠ¤ã€‚\nè®¿é—®æ§åˆ¶ å±‚çº§ æœºåˆ¶ ç½‘ç»œ é˜²ç«å¢™ã€VPN æ”¯æŒ Web Nginx è®¤è¯ æ•° â€¦","ref":"/zh/docs/concept/security/","tags":"","title":"å®‰å…¨"},{"body":"äº†è§£å¦‚ä½•æ‰©å±•æˆ–ç¼©å‡ Piglet Run èµ„æºã€‚\næ¦‚è¿° Piglet Run æ”¯æŒæ‰©å±•ï¼š\næ•°æ®åº“ï¼šè°ƒæ•´ PostgreSQL èµ„æº å­˜å‚¨ï¼šæ‰©å±•ç£ç›˜å®¹é‡ æœåŠ¡ï¼šæ‰©å±•æœåŠ¡èµ„æº å¿«é€Ÿæ‰©å®¹ æ‰©å±•æ•°æ®åº“èµ„æºï¼š\npig scale db --cpu 4 --memory 8G æ‰©å±•æ•°æ®åº“ å¢åŠ èµ„æº pig scale db --cpu 4 --memory 16G è°ƒæ•´è¿æ¥é™åˆ¶ pig scale db --max-connections 200 é…ç½®å…±äº«ç¼“å†²åŒº pig scale db --shared-buffers 4G æ‰©å±•å­˜å‚¨ æ‰©å±•ç£ç›˜ pig scale storage --size 100G æ·»åŠ å­˜å‚¨å· pig scale storage add --mount /data/extra --size 50G æ‰©å±•æœåŠ¡ VS Code æœåŠ¡å™¨ pig scale service vscode --memory 4G JupyterLab pig scale service jupyter --memory 8G èµ„æºé™åˆ¶ æŸ¥çœ‹å½“å‰èµ„æºåˆ†é…ï¼š\npig scale status ç¤ºä¾‹è¾“å‡ºï¼š\næœåŠ¡ CPU å†…å­˜ å­˜å‚¨ --------- ---- ------ ------- PostgreSQL 2 4G 20G VS Code 1 2G - Jupyter 1 2G - Nginx 0.5 512M - é…ç½® /etc/piglet/resources.yml ä¸­çš„æ‰©å±•è®¾ç½®ï¼š\nresources: postgres: cpu: 2 memory: 4G storage: 20G vscode: cpu: 1 memory: 2G jupyter: cpu: 1 memory: 2G æœ€ä½³å®è·µ æ‰©å±•å‰ç›‘æ§èµ„æºä½¿ç”¨æƒ…å†µ é€æ­¥æ‰©å±•ä»¥é¿å…ä¸­æ–­ å…ˆåœ¨å¼€å‘ç¯å¢ƒæµ‹è¯•æ›´æ”¹ ä¸‹ä¸€æ­¥ è®¾ç½®ç›‘æ§ äº†è§£æ¶æ„ ","categories":"","description":"","excerpt":"äº†è§£å¦‚ä½•æ‰©å±•æˆ–ç¼©å‡ Piglet Run èµ„æºã€‚\næ¦‚è¿° Piglet Run æ”¯æŒæ‰©å±•ï¼š\næ•°æ®åº“ï¼šè°ƒæ•´ PostgreSQL èµ„æº å­˜å‚¨ï¼šæ‰© â€¦","ref":"/zh/docs/task/scale/","tags":"","title":"æ‰©å®¹"},{"body":"Learn how to migrate data from other systems to Piglet Run.\nOverview Piglet Run supports migration from:\nOther PostgreSQL: Migrate from existing PostgreSQL instances MySQL/MariaDB: Convert and migrate from MySQL Cloud Databases: AWS RDS, Google Cloud SQL, Azure Database Files: Import from SQL dumps or CSV files Quick Migration Migrate from another PostgreSQL:\npig migrate postgres://user:pass@source-host/dbname Migrate from PostgreSQL Direct Connection pig migrate pg \\ --host source.example.com \\ --port 5432 \\ --user migrate_user \\ --database production From pg_dump File pig migrate import backup.sql Schema Only pig migrate pg --host source.example.com --schema-only Migrate from MySQL Direct Migration pig migrate mysql \\ --host mysql.example.com \\ --user migrate_user \\ --database myapp With Type Mapping pig migrate mysql --host source --type-map mysql-to-pg.yml Migrate from Cloud AWS RDS pig migrate rds \\ --instance mydb-instance \\ --region us-west-2 \\ --profile aws-profile Google Cloud SQL pig migrate cloudsql \\ --instance myproject:region:instance \\ --credentials /path/to/credentials.json Import Files SQL Dump pig migrate import dump.sql --database mydb CSV Files pig migrate csv data.csv --table users --database mydb Multiple CSV Files pig migrate csv ./data/ --database mydb Migration Options Option Description --schema-only Migrate structure only --data-only Migrate data only --no-owner Skip ownership --parallel N Parallel jobs --exclude TABLE Exclude tables Verification Verify migration:\npig migrate verify --source postgres://source/db --target postgres://target/db Next Steps Learn about Backup Understand PostgreSQL Configuration ","categories":"","description":"","excerpt":"Learn how to migrate data from other systems to Piglet Run.\nOverview â€¦","ref":"/docs/task/migrate/","tags":"","title":"Migrate"},{"body":"äº†è§£å¦‚ä½•ä»å…¶ä»–ç³»ç»Ÿè¿ç§»æ•°æ®åˆ° Piglet Runã€‚\næ¦‚è¿° Piglet Run æ”¯æŒä»ä»¥ä¸‹ç³»ç»Ÿè¿ç§»ï¼š\nå…¶ä»– PostgreSQLï¼šä»ç°æœ‰ PostgreSQL å®ä¾‹è¿ç§» MySQL/MariaDBï¼šä» MySQL è½¬æ¢å¹¶è¿ç§» äº‘æ•°æ®åº“ï¼šAWS RDSã€Google Cloud SQLã€Azure Database æ–‡ä»¶ï¼šä» SQL è½¬å‚¨æˆ– CSV æ–‡ä»¶å¯¼å…¥ å¿«é€Ÿè¿ç§» ä»å¦ä¸€ä¸ª PostgreSQL è¿ç§»ï¼š\npig migrate postgres://user:pass@source-host/dbname ä» PostgreSQL è¿ç§» ç›´æ¥è¿æ¥ pig migrate pg \\ --host source.example.com \\ --port 5432 \\ --user migrate_user \\ --database production ä» pg_dump æ–‡ä»¶ pig migrate import backup.sql ä»…ç»“æ„ pig migrate pg --host source.example.com --schema-only ä» MySQL è¿ç§» ç›´æ¥è¿ç§» pig migrate mysql \\ --host mysql.example.com \\ --user migrate_user \\ --database myapp å¸¦ç±»å‹æ˜ å°„ pig migrate mysql --host source --type-map mysql-to-pg.yml ä»äº‘è¿ç§» AWS RDS pig migrate rds \\ --instance mydb-instance \\ --region us-west-2 \\ --profile aws-profile Google Cloud SQL pig migrate cloudsql \\ --instance myproject:region:instance \\ --credentials /path/to/credentials.json å¯¼å…¥æ–‡ä»¶ SQL è½¬å‚¨ pig migrate import dump.sql --database mydb CSV æ–‡ä»¶ pig migrate csv data.csv --table users --database mydb å¤šä¸ª CSV æ–‡ä»¶ pig migrate csv ./data/ --database mydb è¿ç§»é€‰é¡¹ é€‰é¡¹ æè¿° --schema-only ä»…è¿ç§»ç»“æ„ --data-only ä»…è¿ç§»æ•°æ® --no-owner è·³è¿‡æ‰€æœ‰æƒ --parallel N å¹¶è¡Œä»»åŠ¡æ•° --exclude TABLE æ’é™¤è¡¨ éªŒè¯ éªŒè¯è¿ç§»ï¼š\npig migrate verify --source postgres://source/db --target postgres://target/db ä¸‹ä¸€æ­¥ äº†è§£å¤‡ä»½ ç†è§£ PostgreSQL é…ç½® ","categories":"","description":"","excerpt":"äº†è§£å¦‚ä½•ä»å…¶ä»–ç³»ç»Ÿè¿ç§»æ•°æ®åˆ° Piglet Runã€‚\næ¦‚è¿° Piglet Run æ”¯æŒä»ä»¥ä¸‹ç³»ç»Ÿè¿ç§»ï¼š\nå…¶ä»– PostgreSQLï¼šä»ç°æœ‰ â€¦","ref":"/zh/docs/task/migrate/","tags":"","title":"è¿ç§»"},{"body":"Learn how to set up alerts and monitoring for your Piglet Run instance.\nOverview Piglet Run includes comprehensive monitoring:\nGrafana Dashboards: Visual monitoring Alerting: Configurable alerts Metrics: Prometheus-based metrics Logs: Centralized logging Quick Setup Access monitoring dashboard:\npig monitor open # Opens Grafana at http://\u003cip\u003e/ui Grafana Dashboards Available Dashboards Dashboard Description Overview System overview and health PostgreSQL Database performance metrics Node Server resource usage Nginx Web server statistics Access Dashboards # Default credentials URL: http://\u003cip\u003e/ui User: admin Password: (shown during install) Set Up Alerts Enable Email Alerts pig alert email --to admin@example.com --smtp smtp.example.com Enable Slack Alerts pig alert slack --webhook https://hooks.slack.com/services/... Enable Webhook Alerts pig alert webhook --url https://api.example.com/alerts Alert Rules View Alert Rules pig alert list Add Custom Alert pig alert add \\ --name \"High CPU\" \\ --condition \"cpu_usage \u003e 80\" \\ --duration 5m \\ --severity warning Default Alerts Alert Condition Severity High CPU \u003e 80% for 5m Warning High Memory \u003e 90% for 5m Warning Disk Full \u003e 85% Critical DB Down Connection failed Critical Replication Lag \u003e 1s Warning Configuration Alert configuration in /etc/piglet/alerts.yml:\nalerts: email: enabled: true to: admin@example.com smtp: host: smtp.example.com port: 587 slack: enabled: false webhook: \"\" rules: - name: high_cpu expr: cpu_usage \u003e 80 for: 5m severity: warning View Logs # All service logs pig logs # Specific service pig logs postgres pig logs nginx Next Steps Learn about Grafana Understand Architecture ","categories":"","description":"","excerpt":"Learn how to set up alerts and monitoring for your Piglet Run â€¦","ref":"/docs/task/monitor/","tags":"","title":"Monitor"},{"body":"äº†è§£å¦‚ä½•ä¸º Piglet Run å®ä¾‹è®¾ç½®å‘Šè­¦å’Œç›‘æ§ã€‚\næ¦‚è¿° Piglet Run åŒ…å«å…¨é¢çš„ç›‘æ§åŠŸèƒ½ï¼š\nGrafana ä»ªè¡¨ç›˜ï¼šå¯è§†åŒ–ç›‘æ§ å‘Šè­¦ï¼šå¯é…ç½®çš„å‘Šè­¦ æŒ‡æ ‡ï¼šåŸºäº Prometheus çš„æŒ‡æ ‡ æ—¥å¿—ï¼šé›†ä¸­å¼æ—¥å¿— å¿«é€Ÿè®¾ç½® è®¿é—®ç›‘æ§ä»ªè¡¨ç›˜ï¼š\npig monitor open # åœ¨ http://\u003cip\u003e/ui æ‰“å¼€ Grafana Grafana ä»ªè¡¨ç›˜ å¯ç”¨ä»ªè¡¨ç›˜ ä»ªè¡¨ç›˜ æè¿° Overview ç³»ç»Ÿæ¦‚è§ˆå’Œå¥åº·çŠ¶æ€ PostgreSQL æ•°æ®åº“æ€§èƒ½æŒ‡æ ‡ Node æœåŠ¡å™¨èµ„æºä½¿ç”¨ Nginx Web æœåŠ¡å™¨ç»Ÿè®¡ è®¿é—®ä»ªè¡¨ç›˜ # é»˜è®¤å‡­æ® URL: http://\u003cip\u003e/ui ç”¨æˆ·: admin å¯†ç : (å®‰è£…æ—¶æ˜¾ç¤º) è®¾ç½®å‘Šè­¦ å¯ç”¨é‚®ä»¶å‘Šè­¦ pig alert email --to admin@example.com --smtp smtp.example.com å¯ç”¨ Slack å‘Šè­¦ pig alert slack --webhook https://hooks.slack.com/services/... å¯ç”¨ Webhook å‘Šè­¦ pig alert webhook --url https://api.example.com/alerts å‘Šè­¦è§„åˆ™ æŸ¥çœ‹å‘Šè­¦è§„åˆ™ pig alert list æ·»åŠ è‡ªå®šä¹‰å‘Šè­¦ pig alert add \\ --name \"High CPU\" \\ --condition \"cpu_usage \u003e 80\" \\ --duration 5m \\ --severity warning é»˜è®¤å‘Šè­¦ å‘Šè­¦ æ¡ä»¶ ä¸¥é‡çº§åˆ« CPU è¿‡é«˜ \u003e 80% æŒç»­ 5 åˆ†é’Ÿ è­¦å‘Š å†…å­˜è¿‡é«˜ \u003e 90% æŒç»­ 5 åˆ†é’Ÿ è­¦å‘Š ç£ç›˜æ»¡ \u003e 85% ä¸¥é‡ æ•°æ®åº“å®•æœº è¿æ¥å¤±è´¥ ä¸¥é‡ å¤åˆ¶å»¶è¿Ÿ \u003e 1 ç§’ è­¦å‘Š é…ç½® /etc/piglet/alerts.yml ä¸­çš„å‘Šè­¦é…ç½®ï¼š\nalerts: email: enabled: true to: admin@example.com smtp: host: smtp.example.com port: 587 slack: enabled: false webhook: \"\" rules: - name: high_cpu expr: cpu_usage \u003e 80 for: 5m severity: warning æŸ¥çœ‹æ—¥å¿— # æ‰€æœ‰æœåŠ¡æ—¥å¿— pig logs # ç‰¹å®šæœåŠ¡ pig logs postgres pig logs nginx ä¸‹ä¸€æ­¥ äº†è§£ Grafana ç†è§£æ¶æ„ ","categories":"","description":"","excerpt":"äº†è§£å¦‚ä½•ä¸º Piglet Run å®ä¾‹è®¾ç½®å‘Šè­¦å’Œç›‘æ§ã€‚\næ¦‚è¿° Piglet Run åŒ…å«å…¨é¢çš„ç›‘æ§åŠŸèƒ½ï¼š\nGrafana ä»ªè¡¨ç›˜ï¼šå¯è§†åŒ–ç›‘æ§ â€¦","ref":"/zh/docs/task/monitor/","tags":"","title":"ç›‘æ§"},{"body":"REST API reference for Piglet Run.\nOverview Piglet Run provides a REST API for programmatic access to all features.\nBase URL http://\u003cip\u003e/api/v1 Authentication API Key curl -H \"Authorization: Bearer YOUR_API_KEY\" \\ http://localhost/api/v1/status Generate API Key pig api key create --name mykey Endpoints System Get Status GET /api/v1/status Response:\n{ \"status\": \"healthy\", \"version\": \"2.5.0\", \"uptime\": 86400, \"services\": { \"postgres\": \"running\", \"vscode\": \"running\", \"jupyter\": \"running\" } } Get System Info GET /api/v1/system Response:\n{ \"hostname\": \"piglet\", \"os\": \"Ubuntu 22.04\", \"cpu\": 4, \"memory\": \"8GB\", \"disk\": \"100GB\" } Databases List Databases GET /api/v1/databases Response:\n{ \"databases\": [ { \"name\": \"postgres\", \"owner\": \"dba\", \"size\": \"50MB\" } ] } Create Database POST /api/v1/databases Content-Type: application/json { \"name\": \"mydb\", \"owner\": \"dba\" } Delete Database DELETE /api/v1/databases/{name} Backups List Backups GET /api/v1/backups Response:\n{ \"backups\": [ { \"id\": \"backup-20240115\", \"type\": \"full\", \"size\": \"1.2GB\", \"created_at\": \"2024-01-15T02:00:00Z\" } ] } Create Backup POST /api/v1/backups Content-Type: application/json { \"type\": \"full\", \"databases\": [\"postgres\"] } Restore Backup POST /api/v1/backups/{id}/restore Content-Type: application/json { \"target_time\": \"2024-01-15T14:30:00Z\" } Services List Services GET /api/v1/services Response:\n{ \"services\": [ { \"name\": \"postgres\", \"status\": \"running\", \"port\": 5432 }, { \"name\": \"vscode\", \"status\": \"running\", \"port\": 8080 } ] } Control Service POST /api/v1/services/{name}/{action} Actions: start, stop, restart\nSnapshots List Snapshots GET /api/v1/snapshots Create Snapshot POST /api/v1/snapshots Content-Type: application/json { \"name\": \"snap-20240115\", \"description\": \"Before upgrade\" } Restore Snapshot POST /api/v1/snapshots/{name}/restore Users List Users GET /api/v1/users Create User POST /api/v1/users Content-Type: application/json { \"username\": \"newuser\", \"password\": \"secure_password\", \"databases\": [\"mydb\"] } Error Responses { \"error\": { \"code\": \"NOT_FOUND\", \"message\": \"Database not found\", \"details\": { \"database\": \"nonexistent\" } } } Error Codes Code HTTP Status Description UNAUTHORIZED 401 Invalid or missing API key FORBIDDEN 403 Insufficient permissions NOT_FOUND 404 Resource not found CONFLICT 409 Resource already exists INTERNAL_ERROR 500 Server error Rate Limiting Default: 100 requests per minute Burst: 20 requests Headers:\nX-RateLimit-Limit: 100 X-RateLimit-Remaining: 95 X-RateLimit-Reset: 1704067200 SDK Examples Python import requests api_key = \"YOUR_API_KEY\" base_url = \"http://localhost/api/v1\" headers = {\"Authorization\": f\"Bearer {api_key}\"} # Get status response = requests.get(f\"{base_url}/status\", headers=headers) print(response.json()) # Create database response = requests.post( f\"{base_url}/databases\", headers=headers, json={\"name\": \"mydb\", \"owner\": \"dba\"} ) JavaScript const apiKey = \"YOUR_API_KEY\"; const baseUrl = \"http://localhost/api/v1\"; // Get status fetch(`${baseUrl}/status`, { headers: { Authorization: `Bearer ${apiKey}` } }) .then(res =\u003e res.json()) .then(data =\u003e console.log(data)); See Also CLI Reference Configuration Reference ","categories":"","description":"","excerpt":"REST API reference for Piglet Run.\nOverview Piglet Run provides a REST â€¦","ref":"/docs/reference/api/","tags":"","title":"REST API"},{"body":"Piglet Run çš„ REST API å‚è€ƒã€‚\næ¦‚è¿° Piglet Run æä¾› REST APIï¼Œç”¨äºç¼–ç¨‹è®¿é—®æ‰€æœ‰åŠŸèƒ½ã€‚\nåŸºç¡€ URL http://\u003cip\u003e/api/v1 è®¤è¯ API å¯†é’¥ curl -H \"Authorization: Bearer YOUR_API_KEY\" \\ http://localhost/api/v1/status ç”Ÿæˆ API å¯†é’¥ pig api key create --name mykey ç«¯ç‚¹ ç³»ç»Ÿ è·å–çŠ¶æ€ GET /api/v1/status å“åº”ï¼š\n{ \"status\": \"healthy\", \"version\": \"2.5.0\", \"uptime\": 86400, \"services\": { \"postgres\": \"running\", \"vscode\": \"running\", \"jupyter\": \"running\" } } è·å–ç³»ç»Ÿä¿¡æ¯ GET /api/v1/system å“åº”ï¼š\n{ \"hostname\": \"piglet\", \"os\": \"Ubuntu 22.04\", \"cpu\": 4, \"memory\": \"8GB\", \"disk\": \"100GB\" } æ•°æ®åº“ åˆ—å‡ºæ•°æ®åº“ GET /api/v1/databases å“åº”ï¼š\n{ \"databases\": [ { \"name\": \"postgres\", \"owner\": \"dba\", \"size\": \"50MB\" } ] } åˆ›å»ºæ•°æ®åº“ POST /api/v1/databases Content-Type: application/json { \"name\": \"mydb\", \"owner\": \"dba\" } åˆ é™¤æ•°æ®åº“ DELETE /api/v1/databases/{name} å¤‡ä»½ åˆ—å‡ºå¤‡ä»½ GET /api/v1/backups å“åº”ï¼š\n{ \"backups\": [ { \"id\": \"backup-20240115\", \"type\": \"full\", \"size\": \"1.2GB\", \"created_at\": \"2024-01-15T02:00:00Z\" } ] } åˆ›å»ºå¤‡ä»½ POST /api/v1/backups Content-Type: application/json { \"type\": \"full\", \"databases\": [\"postgres\"] } æ¢å¤å¤‡ä»½ POST /api/v1/backups/{id}/restore Content-Type: application/json { \"target_time\": \"2024-01-15T14:30:00Z\" } æœåŠ¡ åˆ—å‡ºæœåŠ¡ GET /api/v1/services å“åº”ï¼š\n{ \"services\": [ { \"name\": \"postgres\", \"status\": \"running\", \"port\": 5432 }, { \"name\": \"vscode\", \"status\": \"running\", \"port\": 8080 } ] } æ§åˆ¶æœåŠ¡ POST /api/v1/services/{name}/{action} æ“ä½œï¼šstartã€stopã€restart\nå¿«ç…§ åˆ—å‡ºå¿«ç…§ GET /api/v1/snapshots åˆ›å»ºå¿«ç…§ POST /api/v1/snapshots Content-Type: application/json { \"name\": \"snap-20240115\", \"description\": \"å‡çº§å‰\" } æ¢å¤å¿«ç…§ POST /api/v1/snapshots/{name}/restore ç”¨æˆ· åˆ—å‡ºç”¨æˆ· GET /api/v1/users åˆ›å»ºç”¨æˆ· POST /api/v1/users Content-Type: application/json { \"username\": \"newuser\", \"password\": \"secure_password\", \"databases\": [\"mydb\"] } é”™è¯¯å“åº” { \"error\": { \"code\": \"NOT_FOUND\", \"message\": \"æ•°æ®åº“æœªæ‰¾åˆ°\", \"details\": { \"database\": \"nonexistent\" } } } é”™è¯¯ä»£ç  ä»£ç  HTTP çŠ¶æ€ æè¿° UNAUTHORIZED 401 æ— æ•ˆæˆ–ç¼ºå°‘ API å¯†é’¥ FORBIDDEN 403 æƒé™ä¸è¶³ NOT_FOUND 404 èµ„æºæœªæ‰¾åˆ° CONFLICT 409 èµ„æºå·²å­˜åœ¨ INTERNAL_ERROR 500 æœåŠ¡å™¨é”™è¯¯ é€Ÿç‡é™åˆ¶ é»˜è®¤ï¼šæ¯åˆ†é’Ÿ 100 ä¸ªè¯·æ±‚ çªå‘ï¼š20 ä¸ªè¯·æ±‚ å“åº”å¤´ï¼š\nX-RateLimit-Limit: 100 X-RateLimit-Remaining: 95 X-RateLimit-Reset: 1704067200 SDK ç¤ºä¾‹ Python import requests api_key = \"YOUR_API_KEY\" base_url = \"http://localhost/api/v1\" headers = {\"Authorization\": f\"Bearer {api_key}\"} # è·å–çŠ¶æ€ response = requests.get(f\"{base_url}/status\", headers=headers) print(response.json()) # åˆ›å»ºæ•°æ®åº“ response = requests.post( f\"{base_url}/databases\", headers=headers, json={\"name\": \"mydb\", \"owner\": \"dba\"} ) JavaScript const apiKey = \"YOUR_API_KEY\"; const baseUrl = \"http://localhost/api/v1\"; // è·å–çŠ¶æ€ fetch(`${baseUrl}/status`, { headers: { Authorization: `Bearer ${apiKey}` } }) .then(res =\u003e res.json()) .then(data =\u003e console.log(data)); å¦è¯·å‚é˜… CLI å‚è€ƒ é…ç½®å‚è€ƒ ","categories":"","description":"","excerpt":"Piglet Run çš„ REST API å‚è€ƒã€‚\næ¦‚è¿° Piglet Run æä¾› REST APIï¼Œç”¨äºç¼–ç¨‹è®¿é—®æ‰€æœ‰åŠŸèƒ½ã€‚\nåŸºç¡€ URL â€¦","ref":"/zh/docs/reference/api/","tags":"","title":"REST API"},{"body":"Learn how to upgrade your Piglet Run installation.\nOverview Piglet Run upgrades include:\nMinor Updates: Bug fixes and security patches Major Upgrades: New features and improvements PostgreSQL Upgrades: Database version upgrades Quick Upgrade Upgrade to latest version:\npig upgrade Check for Updates View Current Version pig version Check Available Updates pig upgrade check Perform Upgrade Standard Upgrade pig upgrade --backup Upgrade to Specific Version pig upgrade --version 2.5.0 Dry Run pig upgrade --dry-run Upgrade PostgreSQL Check Compatible Versions pig upgrade pg --list Upgrade Database Version pig upgrade pg --version 17 With Full Backup pig upgrade pg --version 17 --backup Before Upgrading Create Backup\npig backup create --full Check Compatibility\npig upgrade check --verbose Review Release Notes\npig upgrade notes Rollback If upgrade fails:\nRestore from Backup pig restore --backup pre-upgrade Rollback to Previous Version pig upgrade rollback Upgrade History View upgrade history:\npig upgrade history Example output:\nVersion Date Status ------- ---------- ------- 2.5.0 2024-01-15 Current 2.4.1 2024-01-01 Previous 2.4.0 2023-12-15 Archived Configuration Upgrade settings in /etc/piglet/upgrade.yml:\nupgrade: auto_backup: true notify: true channel: stable # stable, beta, nightly Next Steps Learn about Backup Understand Restore ","categories":"","description":"","excerpt":"Learn how to upgrade your Piglet Run installation.\nOverview Piglet Run â€¦","ref":"/docs/task/upgrade/","tags":"","title":"Upgrade"},{"body":"äº†è§£å¦‚ä½•å‡çº§ Piglet Run å®‰è£…ã€‚\næ¦‚è¿° Piglet Run å‡çº§åŒ…æ‹¬ï¼š\nå°ç‰ˆæœ¬æ›´æ–°ï¼šBug ä¿®å¤å’Œå®‰å…¨è¡¥ä¸ å¤§ç‰ˆæœ¬å‡çº§ï¼šæ–°åŠŸèƒ½å’Œæ”¹è¿› PostgreSQL å‡çº§ï¼šæ•°æ®åº“ç‰ˆæœ¬å‡çº§ å¿«é€Ÿå‡çº§ å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š\npig upgrade æ£€æŸ¥æ›´æ–° æŸ¥çœ‹å½“å‰ç‰ˆæœ¬ pig version æ£€æŸ¥å¯ç”¨æ›´æ–° pig upgrade check æ‰§è¡Œå‡çº§ æ ‡å‡†å‡çº§ pig upgrade --backup å‡çº§åˆ°ç‰¹å®šç‰ˆæœ¬ pig upgrade --version 2.5.0 è¯•è¿è¡Œ pig upgrade --dry-run å‡çº§ PostgreSQL æ£€æŸ¥å…¼å®¹ç‰ˆæœ¬ pig upgrade pg --list å‡çº§æ•°æ®åº“ç‰ˆæœ¬ pig upgrade pg --version 17 å¸¦å®Œæ•´å¤‡ä»½ pig upgrade pg --version 17 --backup å‡çº§å‰å‡†å¤‡ åˆ›å»ºå¤‡ä»½\npig backup create --full æ£€æŸ¥å…¼å®¹æ€§\npig upgrade check --verbose æŸ¥çœ‹å‘å¸ƒè¯´æ˜\npig upgrade notes å›æ»š å¦‚æœå‡çº§å¤±è´¥ï¼š\nä»å¤‡ä»½æ¢å¤ pig restore --backup pre-upgrade å›æ»šåˆ°ä¹‹å‰ç‰ˆæœ¬ pig upgrade rollback å‡çº§å†å² æŸ¥çœ‹å‡çº§å†å²ï¼š\npig upgrade history ç¤ºä¾‹è¾“å‡ºï¼š\nç‰ˆæœ¬ æ—¥æœŸ çŠ¶æ€ ------- ---------- ------- 2.5.0 2024-01-15 å½“å‰ 2.4.1 2024-01-01 ä¹‹å‰ 2.4.0 2023-12-15 å·²å½’æ¡£ é…ç½® /etc/piglet/upgrade.yml ä¸­çš„å‡çº§è®¾ç½®ï¼š\nupgrade: auto_backup: true notify: true channel: stable # stable, beta, nightly ä¸‹ä¸€æ­¥ äº†è§£å¤‡ä»½ ç†è§£æ¢å¤ ","categories":"","description":"","excerpt":"äº†è§£å¦‚ä½•å‡çº§ Piglet Run å®‰è£…ã€‚\næ¦‚è¿° Piglet Run å‡çº§åŒ…æ‹¬ï¼š\nå°ç‰ˆæœ¬æ›´æ–°ï¼šBug ä¿®å¤å’Œå®‰å…¨è¡¥ä¸ å¤§ç‰ˆæœ¬å‡çº§ï¼šæ–°åŠŸèƒ½å’Œ â€¦","ref":"/zh/docs/task/upgrade/","tags":"","title":"å‡çº§"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/","tags":"","title":"Categories"},{"body":"","categories":"","description":"","excerpt":"","ref":"/zh/categories/","tags":"","title":"Categories"},{"body":"","categories":"","description":"","excerpt":"","ref":"/zh/docs/","tags":"","title":"Docs"},{"body":" Piglet Run Get Started GitHub PostgreSQL Cloud Environment Provisioning Service\nPiglet Run helps you provision PostgreSQL environments in the cloud with ease.\nDeploy production-ready PostgreSQL clusters on any cloud provider in minutes.\nEasy to Use Simple configuration, one-click deployment. Get your PostgreSQL cluster running in minutes.\nOpen Source Built on top of Pigsty, fully open source. Contributions welcome!\nRead more\nMulti-Cloud Support for AWS, GCP, Azure, and more cloud providers.\n","categories":"","description":"","excerpt":" Piglet Run Get Started GitHub PostgreSQL Cloud Environment â€¦","ref":"/","tags":"","title":"Piglet Run"},{"body":" Piglet Run å¿«é€Ÿå¼€å§‹ GitHub PostgreSQL äº‘ç«¯ç¯å¢ƒé…ç½®æœåŠ¡\nPiglet Run å¸®åŠ©æ‚¨è½»æ¾åœ¨äº‘ç«¯é…ç½® PostgreSQL ç¯å¢ƒã€‚\nåœ¨ä»»ä½•äº‘æœåŠ¡å•†ä¸Šå¿«é€Ÿéƒ¨ç½²ç”Ÿäº§çº§ PostgreSQL é›†ç¾¤ã€‚\nç®€å•æ˜“ç”¨ ç®€å•é…ç½®ï¼Œä¸€é”®éƒ¨ç½²ã€‚è®©æ‚¨çš„ PostgreSQL é›†ç¾¤å¿«é€Ÿè¿è¡Œã€‚\nå¼€æºå…è´¹ åŸºäº Pigsty æ„å»ºï¼Œå®Œå…¨å¼€æºã€‚æ¬¢è¿è´¡çŒ®ï¼\né˜…è¯»å…¨æ–‡\nå¤šäº‘æ”¯æŒ æ”¯æŒ AWSã€GCPã€Azure ç­‰å¤šç§äº‘æœåŠ¡å•†ã€‚\n","categories":"","description":"","excerpt":" Piglet Run å¿«é€Ÿå¼€å§‹ GitHub PostgreSQL äº‘ç«¯ç¯å¢ƒé…ç½®æœåŠ¡\nPiglet Run å¸®åŠ©æ‚¨è½»æ¾åœ¨äº‘ç«¯é…ç½® â€¦","ref":"/zh/","tags":"","title":"Piglet Run"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/","tags":"","title":"Tags"},{"body":"","categories":"","description":"","excerpt":"","ref":"/zh/tags/","tags":"","title":"Tags"}]